<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepOne">
  <div class="rightcheckout" style="width: auto;">
    <div class="row justify-content-center">
      <div class="col-sm-12 vrifycontent">
        <h3>What type of property are we covering ?</h3>
      </div>
      <div class="col-sm-12">
        <div class="w-70 m-auto">
          <div class="row justify-content-center">
            <div class="col-sm-6" *ngFor="let item of propertyType; let i = index">
              <div class="customradiobtn">
                <input type="radio" [id]="item?._id" name="amount" [value]="item" [formControl]="propertypewecover" />
                <label [for]="item?._id" class="animate-cus ts-{{i+5}}">{{item?.title}}</label>
              </div>
            </div>
          </div>
          <mat-error *ngIf="propertypewecover.touched && propertypewecover.hasError('required')">
            Please choose any one option
          </mat-error>
          <div id="dynamic__btn" class="row btnsec a1">
            <div class="col-sm-6 text-left pl-2">
              <button class="linedbutton greenclr" (click)="backtojoinourclub()"><span>Back</span></button>
            </div>
            <div class="col-sm-6 text-right pr-0">
              <button class="linedbutton" (click)="continuetosizesection()"><span>Continue</span></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepTwo">
  <div class="rightcheckout " style="width: auto;">
    <div class="row justify-content-center">
      <div class="col-sm-12 vrifycontent">
        <h3>What is the size of the property ?</h3>
      </div>
      <div class="col-sm-6" *ngFor="let item of propertySize; let i = index">
        <div class="customradiobtn">
          <input type="radio" [id]="item?._id" name="amount" [value]="item" [formControl]="propertySizeweCover" />
          <label [for]="item?._id" class="animate-cus ts-{{i+5}}">{{item?.title}}</label>
        </div>
      </div>
    </div>
    <mat-error *ngIf="propertySizeweCover.touched && propertySizeweCover.hasError('required')">
      Please choose any one option
    </mat-error>
    <div id="dynamic__btn" class="row btnsec a1">
      <div class="col-sm-6 text-left pl-2">
        <button class="linedbutton greenclr" (click)="back('stepOne', 'stepTwo')"><span>Back</span></button>
      </div>
      <div class="col-sm-6 text-right pr-0">
        <button class="linedbutton"
          (click)="continue('stepThree', 'stepTwo', 'propertySizeweCover')"><span>Continue</span></button>
      </div>
    </div>
  </div>
</div>

<!-- plan selection -->
<div id="nav-tabContent" class="checkoutpage justify-content-center" *ngIf="stepProcess.stepThree">
  <div class="rightcheckout w-90" style="width: auto;">
    <h3>Please select a plan from the following options</h3>
    <ng-container *ngIf="planList">
      <div class="boxsec">
        <ng-container *ngFor="let item of PlanCustomarr.firstTwoplan; let i=index">
          <div class="boxitem" [ngClass]="{'boxleft': i===0 && item?.title.toLowerCase() !== 'customize your own', 'boxright': i=== 1
            && item?.title.toLowerCase() !== 'customize your own', 'boxfull': i=== 0
            && item?.title.toLowerCase() === 'customize your own', 'selectedplan': item?.isSelected}">
            <h4>{{item?.title}}</h4>
            <p *ngIf="item?.title.toLowerCase() !== 'customize your own'">Enhanced coverage to repair or replace any of
              the following home service lines with 2x higher coverage
              limit
              than traditional home warranties</p>
            <p *ngIf="item?.title.toLowerCase() === 'customize your own'">
              Only pay for the coverage you need. Select the items you want to cover, and set coverage limits for each
              added item. We offer enhanced home warranty plans that can be customized by you with 3x higher coverage
              limit than traditional home warranties.</p>
            <ul *ngIf="item?.title.toLowerCase() !== 'customize your own'">
              <li *ngFor="let coveredItem of item?.property_pricing[0]?.info?.covered_item_list">
                <strong>{{coveredItem?.covered_item_id?.title}} </strong>
              </li>
            </ul>
            <div class="hoverarea modifiedHover">
              <div class="movabelsection">
                <h4 *ngIf="item?.title.toLowerCase() === 'customize your own'">Starting at $59.00</h4>
                <h4>{{item?.title}}</h4>

                <h4 class="priceplan" *ngIf="item?.title.toLowerCase() !== 'customize your own'">
                  ${{item?.property_pricing[0]?.info?.cost_per_plan}}
                </h4>
                <button class="box-btnin" (click)="!item?.isSelected ? selectplan(item) : ''">{{item?.isSelected ? 'Selected' :
                  'Select'}}</button>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
      <div class="boxsec" *ngIf="planList">
        <div class="boxleft boxitem boxfull" *ngFor="let item of PlanCustomarr.thirdPlan"
          [ngClass]="{'selectedplan': item?.isSelected}">
          <span class="bstvlu">Best Value</span>
          <h4>{{item?.title}}</h4>
          <p *ngIf="item?.title.toLowerCase() !== 'customize your own'">Enhanced coverage to repair or replace any of
            the following home service lines with 2x higher coverage
            limit
            than traditional home warranties</p>
          <p *ngIf="item?.title.toLowerCase() === 'customize your own'">Only pay for the coverage you need. Select the
            items you want to cover, and set coverage limits for each
            added item. We offer enhanced home warranty plans that can be customized by you with 3x higher coverage
            limit than traditional home warranties.</p>
          <div class="d-flex justify-content-around">
            <ul *ngIf="item?.title.toLowerCase() !== 'customize your own' && item?.optional_item?.length > 0">
              <li *ngFor="let coveredItem of item?.property_pricing[0]?.info?.covered_item_list | slice:0:6">
                <strong>{{coveredItem?.covered_item_id?.title}}</strong>
              </li>
            </ul>
            <ul *ngIf="item?.title.toLowerCase() !== 'customize your own' && item?.optional_item?.length > 6">
              <li
                *ngFor="let coveredItem of item?.property_pricing[0]?.info?.covered_item_list | slice:6: item?.optional_item?.length">
                <strong>{{coveredItem?.covered_item_id?.title}}</strong>
              </li>
            </ul>
          </div>
          <div class="hoverarea"
            [ngClass]="{'modifiedHover': item?.property_pricing[0]?.info?.covered_item_list.length > 6}">
            <div class="box-black-bg">
              <h4 *ngIf="item?.title.toLowerCase() === 'customize your own'">Starting at $59.00</h4>

              <h4>{{item?.title}}</h4>
              <h4 class="priceplan" *ngIf="item?.title.toLowerCase() !== 'customize your own'">
                ${{item?.property_pricing[0]?.info?.cost_per_plan}}
              </h4>

              <button class="box-btnin" (click)="!item?.isSelected ? selectplan(item) : ''">{{item?.isSelected ? 'Selected' :
                'Select'}}</button>
            </div>
          </div>
        </div>
      </div>
      <div class="boxsec" *ngIf="planList">
        <ng-container *ngFor="let item of PlanCustomarr.restOfthePlan; let i=index">
          <div class="boxitem" style="width: 50%;"
            [ngClass]="{'boxleft': i===0 , 'boxright': i=== 1, 'selectedplan': item?.isSelected}">
            <!-- <span class="bstvlu" *ngIf="item?.title.toLowerCase() === 'customize your own'">Best Value</span> -->
            <h4>{{item?.title}}</h4>
            <p *ngIf="item?.title.toLowerCase() !== 'customize your own'">Enhanced coverage to repair or replace any of
              the following home service lines with 2x higher coverage
              limit
              than traditional home warranties</p>
            <p *ngIf="item?.title.toLowerCase() === 'customize your own'">Only pay for the coverage you need. Select the
              items you want to cover, and set coverage limits for each added item. We offer enhanced home warranty
              plans that can be customized by you with 3x higher coverage limit than traditional home warranties.</p>
            <ul *ngIf="item?.title.toLowerCase() !== 'customize your own'">
              <li *ngFor="let coveredItem of item?.property_pricing[0]?.info?.covered_item_list">
                <strong>{{coveredItem?.covered_item_id?.title}}</strong>
              </li>
            </ul>
            <div class="hoverarea"
              [ngClass]="{'modifiedHover': item?.property_pricing[0]?.info?.covered_item_list.length > 6}">
              <div class="movabelsectionnxt">
                <h4 *ngIf="item?.title.toLowerCase() === 'customize your own'">
                  Starting at $59.00
                </h4>

                <h4>{{item?.title}}</h4>
                <h4 class="priceplan" *ngIf="item?.title.toLowerCase() !== 'customize your own'">
                  ${{item?.property_pricing[0]?.info?.cost_per_plan}}
                </h4>

                <button class="box-btnin" (click)="!item?.isSelected ? selectplan(item) : ''">{{item?.isSelected ? 'Selected' :
                  'Select'}}</button>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </ng-container>
    <ng-container *ngIf="!planList">
      No plan available
    </ng-container>
    <div id="blankscroll"></div>
    <div id="dynamic__btn" class="row mt-5 btnsec a1">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 text-left pl-2 mt-5">
            <button class="linedbutton greenclr" (click)="backtopropertytype()"><span>Back</span></button>
          </div>
          <div class="col-sm-6 text-right pr-0 mt-5">
            <button class="linedbutton " (click)="planselected('stepFour', 'stepThree')"><span>Continue</span></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- After plan selection 1st step Add Iems Unit-->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepFour">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="col-sm-12 vrifycontent">
      <h3>{{planDetail?.title}}</h3>
      <h4 *ngIf="planDetail?.title.toLowerCase() !== 'customize your own'">The plan you have selected only covers a
        limited number of units for each covered
        item.</h4>
      <h4 *ngIf="planDetail?.title.toLowerCase() === 'customize your own'">
        Please select the item you want to cover from the following list of appliances and systems</h4>
      <p class=" w-70 m-auto pt-4" *ngIf="planDetail?.title.toLowerCase() !== 'customize your own'">
        <small>
          Please review the number of units that are covered on each item below.You can choose to
          cover additional units of each covered item at an additional cost by clicking to view more on
          each item.
        </small>
      </p>
      <p class=" w-70 m-auto pt-4" *ngIf="planDetail?.title.toLowerCase() === 'customize your own'">
        <small>
          Please review the available items and pricing information below. The more items you choose to cover, the lower
          the rate for each item be. You can add multiple units for each item by clicking to view more on each item.
        </small>
      </p>
    </div>
    <div class="elitetable">
      <div class="stepacrdn" *ngIf="planDetail?.isShowappliance">
        <div class="bgtblegry">
          <h4>APPLIANCES</h4>
        </div>
        <mat-accordion multi>
          <ng-container *ngFor="let item of planDetail?.itemList[0]?.info?.covered_item_list; let i = index">
            <mat-expansion-panel *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'appliance'"
              (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6>
                    <!-- matTooltip="Info about the action" [matTooltipPosition]="'right'" -->
                    {{item?.covered_item_id?.title}} [{{(item?.coveredunit + item.additionalunitdefaultvalue)}}]
                    <span mat-raised-button
                      matTooltip="The plan you have selected covers a total of {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}, whichever one breaks down first. You can add additional units to your coverage by clicking to view more. Additional fees will apply.">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span></h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata">
                <ul>
                  <li>
                    <p><strong>Number of covered units</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} that are covered with the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>{{item?.coveredunit}}</span>
                  </li>
                  <li>
                    <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12 month term.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>${{item?.covrageValue}}</span>
                  </li>
                  <li>
                    <p><strong>Add Additional units</strong>
                      <span mat-raised-button
                        matTooltip="Using this field you can increase the number of {{item?.covered_item_id?.title.toLowerCase()}} units that the plan will cover. Additional fees will apply.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <div>
                      <div class="qntity">
                        <div class="qnbtncont">
                          <button (click)="addremoveitem(item, 'dec')">
                            <img src="assets/images/minus.png" alt="" width="28" />
                          </button>
                          <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue" readonly>
                          <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                          <button (click)="addremoveitem(item, 'inc')">
                            <img src="assets/images/plus.png" alt="" width="28" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <p><strong>Cost of each additional unit</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the cost of each additional {{item?.covered_item_id?.title.toLowerCase()}} unit that can be added to the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span> ${{item?.price}}</span>
                  </li>
                  <hr>
                  <li>
                    <p><strong>Total Number of covered units</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} units after adding any additional units to the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      {{item?.additionalunitdefaultvalue + item.coveredunit}}
                    </span>
                  </li>
                  <li>
                    <p><strong>Total Added Cost</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total of any added fees for any additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span> ${{item.addedcosttotal}}</span>
                  </li>
                </ul>
              </div>
            </mat-expansion-panel>
          </ng-container>
        </mat-accordion>
      </div>

      <div class="stepacrdn" *ngIf="planDetail?.isShowsystem">
        <div class="bgtblegry">
          <h4>Systems</h4>
        </div>
        <mat-accordion multi>
          <ng-container *ngFor="let item of planDetail?.itemList[0].info?.covered_item_list">
            <mat-expansion-panel *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'system'"
              (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6> {{item?.covered_item_id?.title}} [{{(item?.coveredunit + item.additionalunitdefaultvalue)}}]
                    <span mat-raised-button
                      matTooltip="The plan you have selected covers a total of {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}, whichever one breaks down first. You can add additional units to your coverage by clicking to view more. Additional fees will apply.">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span></h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata">
                <ul>
                  <li>
                    <p><strong>Number of covered units</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} that are covered with the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>{{item.coveredunit}}</span>
                  </li>
                  <li>
                    <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12 month term.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>${{item?.covrageValue}}</span>
                  </li>
                  <li>
                    <p><strong>Add Additional units</strong>
                      <span mat-raised-button
                        matTooltip="Using this field you can increase the number of {{item?.covered_item_id?.title.toLowerCase()}} units that the plan will cover. Additional fees will apply.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <div>
                      <div class="qntity">
                        <div class="qnbtncont">
                          <button (click)="addremoveitem(item, 'dec')">
                            <img src="assets/images/minus.png" alt="" width="28" />
                          </button>
                          <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue" readonly>
                          <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                          <button (click)="addremoveitem(item, 'inc')">
                            <img src="assets/images/plus.png" alt="" width="28" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <p><strong>Cost of each additional unit</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the cost of each additional {{item?.covered_item_id?.title.toLowerCase()}} unit that can be added to the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>${{item?.price}}</span>
                  </li>

                  <hr>

                  <li>
                    <p><strong>Total Number of covered units</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} units after adding any additional units to the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      {{item?.additionalunitdefaultvalue + item.coveredunit}}
                    </span>
                  </li>

                  <li>
                    <p><strong>Total Added Cost</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total of any added fees for any additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span> ${{item.addedcosttotal}}</span>
                  </li>
                </ul>
              </div>
            </mat-expansion-panel>
          </ng-container>
        </mat-accordion>
      </div>
      <div class="totalplancost">
        <div class="stepacrdn">
          <h4>SELECTED PLAN
            <span class="tooltip-container" mat-raised-button
              matTooltip="This field indicates the type of plan you have selected.">
              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
            </span>
          </h4>
          <mat-accordion>
            <mat-expansion-panel (opened)="viewmoreforbottombox = true" (closed)="viewmoreforbottombox = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6 style="text-transform: uppercase;">{{planDetail?.title}}</h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{viewmoreforbottombox ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata" *ngIf="planDetail">
                <ul>
                  <li>
                    <p><strong>Number of covered units</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total number of items that the plan you have selected covers.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span> {{planDetail?.totalCoveredUnit}}</span>
                  </li>
                  <li>
                    <p><strong>Cost of plan</strong>
                      <span class="tooltip-container" mat-raised-button
                        matTooltip="This field indicates the cost of the plan you have selected.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span *ngIf="planDetail?.itemList">${{planDetail?.itemList[0]?.info?.cost_per_plan}}</span>
                  </li>
                  <li>
                    <p><strong>Number of added units</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total number of additional units that you have added to the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>{{planDetail?.totalAddedItems}}</span>
                  </li>
                  <li>
                    <p><strong>Additional Cost</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total cost of the additional units that you have added to the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span> ${{planDetail?.totaladdedprice}}</span>
                  </li>
                </ul>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="plantotalsub">
            <hr>
            <ul style="padding-top: 6px;">
              <li>
                <p>TOTAL COVERED ITEMS
                  <span mat-raised-button
                    matTooltip="This field indicates the total number of combined items and units that are covered with the plan including any additional units that you have added to the plan.">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span>
                </p>
                <span>
                  {{planDetail?.totalCoveredUnit + planDetail?.totalAddedItems}}
                </span>

              </li>
              <li>
                <p>TOTAL COST
                  <span mat-raised-button
                    matTooltip="This field indicates the total cost of the plan you have selected including the cost of any additional units that you have added to the plan.">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span>
                </p>
                <span
                  *ngIf="planDetail?.itemList">${{(planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice)}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div id="blankscroll"></div>
    <div id="dynamic__btn" class="mt-5 btnsec a1">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 text-left pl-0 mt-5">
            <button class="linedbutton greenclr" (click)="back('stepThree', 'stepFour')"><span>Back</span></button>
          </div>
          <div class="col-sm-6 text-right pr-0 mt-5">
            <button class="linedbutton" (click)="continue('stepFive', 'stepFour', '')"><span>Continue</span></button>
          </div>

          <div class="col-sm-12 p-0 mt-5">
            <div class="foottotal mt-1">
              <ul>
                <li>
                  <p>Plan: {{planDetail?.title}}</p>
                  <p *ngIf="planDetail?.itemList">Total Cost:
                    ${{(planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice + planDetail?.totalOptionalItemsCost + planDetail?.totaladdedCostForCoverage | number: '2.2')}}
                  </p>
                </li>
                <li>
                  <p>TOTAL COVERED ITEMS:
                    {{planDetail?.totalCoveredUnit + planDetail?.totalAddedItems+ planDetail?.totalOptionalItems}}</p>
                  <p> Total Coverage:
                    ${{(planDetail?.totalAddedCoverage + planDetail?.coveragefee + planDetail?.optionalCoverage + (planDetail?.addCoverageAmount ? planDetail?.addCoverageAmount : 0))  | number: '2.2'}}
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- After plan selection 2nd step  OptionalItems selection-->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepFive">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="col-sm-12 vrifycontent">
      <h3>{{planDetail?.title}}</h3>
      <p class="w-70 m-auto pt-4">
        <small>
          We provide additional coverage for optional items at an additional cost. You can add
          any of the following optional items to the plan by clicking to view more on
          each item.
        </small>
      </p>
    </div>
    <div class="elitetable">
      <div class="stepacrdn">
        <div class="bgtblegry">
          <h4>Optional Items</h4>
        </div>
        <mat-accordion multi>
          <ng-container *ngFor="let item of planDetail?.optional_item">
            <mat-expansion-panel (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6> {{item?.covered_item[0]?.title}} [{{(item?.coveredunit + item.additionalunitdefaultvalue)}}]
                    <span mat-raised-button
                      matTooltip="You can add {{item?.covered_item[0]?.title.toLowerCase()}} to the plan. Additional fees will apply.">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata">
                <ul>
                  <li>
                    <p><strong>Number of covered units</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the number of {{item?.covered_item[0]?.title.toLowerCase()}} that are covered with the plan.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>{{item.coveredunit}}</span>
                  </li>
                  <li>
                    <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the maximum coverage amount that the plan covers on each covered {{item?.covered_item[0]?.title.toLowerCase()}} with the plan during a 12-month term.">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>${{item?.covrageValue}}</span>
                  </li>
                  <li>
                    <p><strong>Add Additional units</strong>
                      <span mat-raised-button
                        matTooltip="Using this field, you can add {{item?.covered_item[0]?.title.toLowerCase()}} to be covered with the plan. Additional fees will apply."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <div>
                      <div class="qntity">
                        <div class="qnbtncont">
                          <div class="qnbtncont">
                            <button (click)="addremoveOptionalitems(item, 'dec')">
                              <img src="assets/images/minus.png" alt="" width="28" />
                            </button>
                            <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue" readonly>
                            <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                            <button (click)="addremoveOptionalitems(item, 'inc')">
                              <img src="assets/images/plus.png" alt="" width="28" />
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <p><strong>Cost of each additional unit</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the cost of adding a {{item?.covered_item[0]?.title.toLowerCase()}} to the plan."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span> ${{item?.quantity}}</span>
                  </li>
                  <hr>
                  <li>
                    <p><strong>Total Number of covered units</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total number of {{item?.covered_item[0]?.title.toLowerCase()}} units that the plan covers including any additional units that you have added to the plan."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      {{item?.additionalunitdefaultvalue + item.coveredunit}}
                    </span>
                  </li>
                  <li>
                    <p><strong>Total Added Cost</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total added fees for any {{item?.covered_item[0]?.title.toLowerCase()}} units that you have added to the plan."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span> ${{item.addedcosttotal}}</span>
                  </li>
                </ul>
              </div>
            </mat-expansion-panel>
          </ng-container>
        </mat-accordion>
      </div>
      <div class="totalplancost">
        <div class="stepacrdn">
          <mat-accordion>
            <mat-expansion-panel (opened)="viewmoreforbottombox = true" (closed)="viewmoreforbottombox = false">
              <mat-expansion-panel-header>
                <mat-panel-title class="justify-content-between w-100 mat-expansion-panel-header-title">
                  <h4 style="padding: 0px;">Cost of added Optional items
                    <span mat-raised-button
                      matTooltip="This section list the breakdown and the cost of all of the additional optional items that you have added to the plan.">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span></h4>
                  <div class="d-flex justify-content-end" *ngIf="viewmoreforbottombox">
                    <h4 style="padding: 0px; text-align: right;"> ADDED QUANTITY</h4>
                    <h4 style="padding: 0px; margin-left: 15px; width: 148px; text-align: right;">COST</h4>
                  </div>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{viewmoreforbottombox ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata">
                <ul>
                  <li *ngIf="planDetail?.optionalItemcoverageCategory > 0">
                    <p style="text-transform: uppercase;"><strong><span></span></strong></p>
                    <p style="text-transform: uppercase;"><strong><span>COST PER UNIT</span></strong></p>
                  </li>
                  <li *ngFor="let item of planDetail?.optionalItemcoverageCategory">
                    <p style="text-transform: uppercase;"><strong>{{item?.covered_item[0]?.title}}
                        <span mat-raised-button
                          matTooltip="You have added {{(item?.additionalunitdefaultvalue + item?.coveredunit)}} {{item?.covered_item[0]?.title.toLowerCase()}} to the plan.">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span></strong></p>
                    <div style="display: flex; padding-right: 86px;">
                      <span style="text-align: right !important;">
                        {{(item?.additionalunitdefaultvalue + item?.coveredunit)}}</span>
                      <span style="text-align: right !important;">{{(item?.addedcosttotal ? '$' + item?.addedcosttotal + ' ' +'('+'$' +item?.quantity +'per unit'+')'
                        : '')}}</span>
                    </div>
                  </li>

                </ul>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="plantotalsub">
            <hr>
            <ul style="padding-top: 6px;">
              <li>
                <p><strong>NUMBER OF ADDED OPTIONAL ITEMS</strong>
                  <span mat-raised-button
                    matTooltip="This field indicates the total number of optional items and units that you have added to the plan."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span> {{planDetail?.totalOptionalItems}}</span>
              </li>
              <li>
                <p><strong>TOTAL COST</strong>
                  <span mat-raised-button
                    matTooltip="This field indicates the total cost for all of the additional optional items that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{planDetail?.totalOptionalItemsCost}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div id="blankscroll"></div>
    <div id="dynamic__btn" class=" mt-5 btnsec a1">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 text-left pl-0 mt-5">
            <button class="linedbutton greenclr" (click)="back('stepFour', 'stepFive')"><span>Back</span></button>
          </div>
          <div class="col-sm-6 text-right pr-0 mt-5">
            <button class="linedbutton "
              (click)="continuetoCoveredCategory('stepSix', 'stepFive', '')"><span>Continue</span></button>
          </div>

          <div class="col-sm-12 p-0">
            <div class="foottotal mt-5">
              <ul>
                <li>
                  <p>Plan: {{planDetail?.title}}</p>
                  <p> Total Cost:
                    ${{(planDetail?.totalOptionalItemsCost + planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice + planDetail?.totaladdedCostForCoverage | number: '2.2')}}
                  </p>
                </li>
                <li>
                  <p>TOTAL COVERED ITEMS:
                    {{planDetail?.totalCoveredUnit + planDetail?.totalAddedItems + planDetail?.totalOptionalItems}}</p>
                  <p> Total Coverage:
                    ${{(addTotaloptionalCoverage() + planDetail?.coveragefee + planDetail?.totalAddedCoverage + (planDetail?.addCoverageAmount ? planDetail?.addCoverageAmount : 0)) | number: '2.2'}}
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- After plan selection 3rd step Coverage selection-->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepSix">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="col-sm-12 vrifycontent">
      <h3>{{planDetail?.title}}</h3>
      <h4 style="text-align: center;">All covered items are subject to a maximum dollar amount per term.</h4>
      <p class=" w-70 m-auto pt-4">
        <small>
          Please carefully review the coverage details below.
          You can choose to increase the maximum coverage amount of any items at additional cost by clicking to view
          more on each item.
        </small>
      </p>
    </div>
    <div class="elitetable">
      <div class="stepacrdn" *ngIf="planDetail?.isShowappliance">
        <div class="bgtblegry">
          <h4>APPLIANCES</h4>
        </div>
        <mat-accordion multi>
          <ng-container *ngFor="let item of planDetail?.itemList[0]?.info.covered_item_list; let i = index">
            <mat-expansion-panel *ngIf="item?.covered_item_id?.type === 'appliance'" (opened)="item.ispanelOpen = true"
              (closed)="item.ispanelOpen = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6>
                    {{item?.covered_item_id?.title}} [{{(item?.coveredunit + item.additionalunitdefaultvalue)}}]
                    <span mat-raised-button
                      matTooltip="The plan you have selected covers {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}. Each covered {{item?.covered_item_id?.title.toLowerCase()}} has a maximum amount of coverage that the plan will cover during the 12 month term. You can increase the maximum coverage amount by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata" *ngIf="(item?.coveredunit + item.additionalunitdefaultvalue) <= 1">
                <ul>
                  <li>
                    <p><strong>MAXIMUM COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered unit. You can add additional coverage amount using the next field."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>{{item?.covrageValue}}</span>
                  </li>
                  <li>
                    <p><strong>INCREASE COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="Using this field, you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <div>
                      <div class="qntity">
                        <div class="qnbtncont">
                          <button (click)="incrementCovrage(item, 'dec')">
                            <img src="assets/images/minus.png" alt="" width="28" />
                          </button>
                          <input type="text" appNumbersOnly [value]="item?.defaultCoverage"
                            (keyup)="onTypeCoverageValue(item, $event)">
                          <button (click)="incrementCovrage(item, 'inc')">
                            <img src="assets/images/plus.png" alt="" width="28" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <p *ngIf="item?.defaultCoverage >= 0"><strong>INCREASE FEE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the increase fee when increasing the coverage amount for a {{item?.covered_item_id?.title.toLowerCase()}}. The fee is a percentage of the total added coverage amount."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <p *ngIf="item?.defaultCoverage < 0"><strong>DECREASE FEE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the decrease fee when decreasing the coverage amount for a {{item?.covered_item_id?.title.toLowerCase()}}. The fee is a percentage of the total removed coverage amount."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span
                      *ngIf="item?.defaultCoverage >= 0">{{item?.covered_item_id?.maximum_coverage_increase_fee}}%</span>
                    <span
                      *ngIf="item?.defaultCoverage < 0">{{item?.covered_item_id ? 
                        item?.covered_item_id?.maximum_coverage_decrease_fee : item?.maximum_coverage_decrease_fee}}%</span>
                  </li>
                  <li>
                    <p><strong>COST OF INCREASE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total cost of the additional coverage amount that you have added to {{item?.covered_item_id?.title.toLowerCase()}}."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      ${{(item.defaultCoverage * item?.covered_item_id?.maximum_coverage_increase_fee) / 100}}</span>
                  </li>
                  <hr>
                  <li>
                    <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} unit during a 12-month term including any additional coverage amount that you have added to the plan."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      {{item.covrageValue + item.defaultCoverage}}
                    </span>
                  </li>
                  <li>
                    <p><strong>Total Added Cost</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total added cost for the combined maximum coverage amount that you have added to any {{item?.covered_item_id?.title.toLowerCase()}} units."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>${{(item.defaultCoverage * item?.covered_item_id?.maximum_coverage_increase_fee) / 100}}</span>
                  </li>
                </ul>
              </div>

              <ng-container *ngIf="(item?.coveredunit + item.additionalunitdefaultvalue) > 1">
                <mat-accordion multi>
                  <mat-expansion-panel *ngFor="let duplicateItem of item?.dublicateItemlist; let i=index"
                    (opened)="duplicateItem.ispanelOpen = true" (closed)="duplicateItem.ispanelOpen = false">
                    <mat-expansion-panel-header>
                      <mat-panel-title>
                        <h6>
                          {{item?.covered_item_id?.title + ('*' + duplicateItem?.count)}}
                          <span mat-raised-button
                            matTooltip="The plan you have selected covers {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}. Each covered {{item?.covered_item_id?.title.toLowerCase()}} has a maximum amount of coverage that the plan will cover during the 12 month term. You can increase the maximum coverage amount by clicking to view more. Additional fees will apply."
                            aria-label="Button that displays a tooltip when focused or hovered over">
                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                          </span>
                        </h6>
                      </mat-panel-title>
                      <mat-panel-description>
                        <div class="text-right w-100">
                          <a><u>{{duplicateItem?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                        </div>
                      </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="accorddata">
                      <ul>
                        <li>
                          <p><strong>MAXIMUM COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="Using this field you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>{{duplicateItem?.covrageValue}}</span>
                        </li>
                        <li>
                          <p><strong>INCREASE COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="Using this field, you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <div>
                            <div class="qntity">
                              <div class="qnbtncont">
                                <button (click)="incrementCovrage(duplicateItem, 'dec')">
                                  <img src="assets/images/minus.png" alt="" width="28" />
                                </button>
                                <input type="text" appNumbersOnly [value]="duplicateItem?.defaultCoverage"
                                  (keyup)="onTypeCoverageValue(duplicateItem, $event)">
                                <button (click)="incrementCovrage(duplicateItem, 'inc')">
                                  <img src="assets/images/plus.png" alt="" width="28" />
                                </button>
                              </div>
                            </div>
                          </div>
                        </li>
                        <li>
                          <p *ngIf="duplicateItem?.defaultCoverage >= 0"><strong>INCREASE FEE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the increase fee when increasing the coverage amount for a {{item?.covered_item_id?.title.toLowerCase()}}. The fee is a percentage of the total added coverage amount."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <p *ngIf="duplicateItem?.defaultCoverage < 0"><strong>DECREASE FEE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the decrease fee when decreasing the coverage amount for a {{item?.covered_item_id?.title.toLowerCase()}}. The fee is a percentage of the total removed coverage amount."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span
                            *ngIf="duplicateItem?.defaultCoverage >= 0">{{duplicateItem?.covered_item_id ? 
                              duplicateItem?.covered_item_id?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee}}%</span>
                          <span
                            *ngIf="duplicateItem?.defaultCoverage < 0">{{duplicateItem?.covered_item_id ?
                              duplicateItem?.covered_item_id?.maximum_coverage_decrease_fee : duplicateItem?.maximum_coverage_decrease_fee}}%</span>
                        </li>
                        <li>
                          <p><strong>COST OF INCREASE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the total cost of the coverage amount you have added to {{item?.covered_item_id?.title.toLowerCase()}}."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            ${{(duplicateItem.defaultCoverage * (duplicateItem?.covered_item_id?
                              duplicateItem?.covered_item_id?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee)) / 100}}</span>
                        </li>
                        <hr>
                        <li>
                          <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} unit during a 12 month term including any additional coverage amount that you have added to the plan."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            {{duplicateItem.covrageValue + duplicateItem.defaultCoverage}}
                          </span>
                        </li>
                        <li>
                          <p><strong>Total Added Cost</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the total added cost for the combined maximum coverage amount that you have added to any {{item?.covered_item_id?.title.toLowerCase()}} units."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            ${{(duplicateItem.defaultCoverage * (duplicateItem?.covered_item_id?
                              duplicateItem?.covered_item_id?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee)) / 100}}</span>
                        </li>
                      </ul>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </ng-container>
            </mat-expansion-panel>
          </ng-container>
        </mat-accordion>
      </div>

      <div class="stepacrdn" *ngIf="planDetail?.isShowsystem">
        <div class="bgtblegry">
          <h4>Systems</h4>
        </div>
        <mat-accordion multi>
          <ng-container *ngFor="let item of planDetail?.itemList[0]?.info.covered_item_list; let index = i">
            <mat-expansion-panel *ngIf="item?.covered_item_id?.type === 'system'" (opened)="item.ispanelOpen = true"
              (closed)="item.ispanelOpen = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6>
                    {{item?.covered_item_id?.title}} [{{(item?.coveredunit + item.additionalunitdefaultvalue)}}]
                    <span mat-raised-button
                      matTooltip="The plan you have selected covers {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}. Each covered {{item?.covered_item_id?.title.toLowerCase()}} has a maximum amount of coverage that the plan will cover during the 12 month term. You can increase the maximum coverage amount by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata" *ngIf="(item?.coveredunit + item.additionalunitdefaultvalue) <= 1">
                <ul>
                  <li>
                    <p><strong>MAXIMUM COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="Using this field you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>{{item?.covrageValue}}</span>
                  </li>
                  <li>
                    <p><strong>INCREASE COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="Using this field, you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <div>
                      <div class="qntity">
                        <div class="qnbtncont">
                          <button (click)="incrementCovrage(item, 'dec')">
                            <img src="assets/images/minus.png" alt="" width="28" />
                          </button>
                          <input type="text" appNumbersOnly [value]="item?.defaultCoverage"
                            (keyup)="onTypeCoverageValue(item, $event)">
                          <button (click)="incrementCovrage(item, 'inc')">
                            <img src="assets/images/plus.png" alt="" width="28" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <p *ngIf="item?.defaultCoverage >= 0"><strong>INCREASE FEE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the increase fee when increasing the coverage amount for a {{item?.covered_item_id?.title.toLowerCase()}}. The fee is a percentage of the total added coverage amount."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <p *ngIf="item?.defaultCoverage < 0"><strong>DECREASE FEE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the decrease fee when decreasing the coverage amount for a {{item?.covered_item_id?.title.toLowerCase()}}. The fee is a percentage of the total removed coverage amount."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span
                      *ngIf="item?.defaultCoverage >= 0">{{item?.covered_item_id?.maximum_coverage_increase_fee}}%</span>
                    <span
                      *ngIf="item?.defaultCoverage < 0">{{item?.covered_item_id?.maximum_coverage_increase_fee}}%</span>
                  </li>
                  <li>
                    <p><strong>COST OF INCREASE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total cost of the coverage amount you have added to {{item?.covered_item_id?.title.toLowerCase()}}."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      ${{(item.defaultCoverage * item?.covered_item_id?.maximum_coverage_increase_fee) / 100}}</span>
                  </li>
                  <hr>
                  <li>
                    <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} unit during a 12 month term including any additional coverage amount that you have added to the plan."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      {{item.covrageValue + item.defaultCoverage}}
                    </span>
                  </li>
                  <li>
                    <p><strong>Total Added Cost</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total added cost for the combined maximum coverage amount that you have added to any {{item?.covered_item_id?.title.toLowerCase()}} units."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      ${{(item.defaultCoverage * item?.covered_item_id?.maximum_coverage_increase_fee) / 100}}</span>
                  </li>
                </ul>
              </div>
              <ng-container *ngIf="(item?.coveredunit + item.additionalunitdefaultvalue) > 1">
                <mat-accordion multi>
                  <mat-expansion-panel *ngFor="let duplicateItem of item?.dublicateItemlist; let i=index"
                    (opened)="duplicateItem.ispanelOpen = true" (closed)="duplicateItem.ispanelOpen = false">
                    <mat-expansion-panel-header>
                      <mat-panel-title>
                        <h6>
                          {{item?.covered_item_id?.title + ('*' +duplicateItem?.count)}}
                        </h6>
                        <span mat-raised-button
                          matTooltip="The plan you have selected covers {{duplicateItem?.coveredunit}} {{duplicateItem?.covered_item_id?.title.toLowerCase()}}. Each covered {{duplicateItem?.covered_item_id?.title}} has a maximum amount of coverage that the plan will cover during the 12 month term. You can increase the maximum coverage amount by clicking to view more. Additional fees will apply."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span>
                      </mat-panel-title>
                      <mat-panel-description>
                        <div class="text-right w-100">
                          <a><u>{{duplicateItem?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                        </div>
                      </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="accorddata">
                      <ul>
                        <li>
                          <p><strong>MAXIMUM COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="Using this field you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>{{duplicateItem?.covrageValue}}</span>
                        </li>
                        <li>
                          <p><strong>INCREASE COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="Using this field, you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <div>
                            <div class="qntity">
                              <div class="qnbtncont">
                                <button (click)="incrementCovrage(duplicateItem, 'dec')">
                                  <img src="assets/images/minus.png" alt="" width="28" />
                                </button>
                                <input type="text" appNumbersOnly [value]="duplicateItem?.defaultCoverage"
                                  (keyup)="onTypeCoverageValue(duplicateItem, $event)">
                                <button (click)="incrementCovrage(duplicateItem, 'inc')">
                                  <img src="assets/images/plus.png" alt="" width="28" />
                                </button>
                              </div>
                            </div>
                          </div>
                        </li>
                        <li>
                          <p *ngIf="duplicateItem?.defaultCoverage >= 0"><strong>INCREASE FEE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the increase fee when increasing the coverage amount for a {{duplicateItem?.covered_item_id?.title}}. The fee is a percentage of the total added coverage amount."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <p *ngIf="duplicateItem?.defaultCoverage < 0"><strong>DECREASE FEE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the decrease fee when decreasing the coverage amount for a {{duplicateItem?.covered_item_id?.title}}. The fee is a percentage of the total removed coverage amount."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span
                            *ngIf="duplicateItem?.defaultCoverage >= 0">{{duplicateItem?.covered_item_id
                               ? duplicateItem?.covered_item_id?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee}}%</span>
                          <span
                            *ngIf="duplicateItem?.defaultCoverage < 0">{{duplicateItem?.covered_item_id 
                              ? duplicateItem?.covered_item_id?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee}}%</span>
                        </li>
                        <li>
                          <p><strong>COST OF INCREASE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the total cost of the coverage amount you have added to {{duplicateItem?.covered_item_id?.title}}."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            ${{(duplicateItem.defaultCoverage * (duplicateItem?.covered_item_id?
                              duplicateItem?.covered_item_id?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee)) / 100}}</span>
                        </li>
                        <hr>
                        <li>
                          <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{duplicateItem?.covered_item_id?.title}} unit during a 12 month term including any additional coverage amount that you have added to the plan."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            {{duplicateItem.covrageValue + duplicateItem.defaultCoverage}}
                          </span>
                        </li>
                        <li>
                          <p><strong>Total Added Cost</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the total added cost for the combined maximum coverage amount that you have added to any {{duplicateItem?.covered_item_id?.title}} units."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            ${{(duplicateItem.defaultCoverage * (duplicateItem?.covered_item_id?
                              duplicateItem?.covered_item_id?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee)) / 100}}</span>
                        </li>
                      </ul>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>

              </ng-container>
            </mat-expansion-panel>
          </ng-container>
        </mat-accordion>
      </div>
      <div class="stepacrdn" *ngIf="planDetail?.optionalItemcoverageCategory?.length > 0">
        <div class="bgtblegry">
          <h4>Optional Items</h4>
        </div>
        <mat-accordion multi>
          <ng-container *ngFor="let item of planDetail?.optionalItemcoverageCategory">
            <mat-expansion-panel (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6>
                    {{item?.covered_item[0]?.title}} [{{(item?.coveredunit + item.additionalunitdefaultvalue)}}]
                    <span mat-raised-button
                      matTooltip="The plan you have selected covers {{item?.coveredunit}} {{item?.covered_item[0]?.title.toLowerCase()}}. Each covered {{item?.covered_item[0]?.title.toLowerCase()}} has a maximum amount of coverage that the plan will cover during the 12 month term. You can increase the maximum coverage amount by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata" *ngIf="(item?.coveredunit + item.additionalunitdefaultvalue) <= 1">
                <ul>
                  <li>
                    <p><strong>MAXIMUM COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="Using this field you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>{{item?.covrageValue}}</span>
                  </li>
                  <li>
                    <p><strong>INCREASE COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="Using this field, you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <div>
                      <div class="qntity">
                        <div class="qnbtncont">
                          <button (click)="incrementCovrageforOptional(item, 'dec')">
                            <img src="assets/images/minus.png" alt="" width="28" />
                          </button>
                          <input type="text" appNumbersOnly [value]="item.defaultCoverage" readonly>
                          <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                          <button (click)="incrementCovrageforOptional(item, 'inc')">
                            <img src="assets/images/plus.png" alt="" width="28" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <p *ngIf="item.defaultCoverage >= 0"><strong>INCREASE FEE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the increase fee when increasing the coverage amount for a {{item?.covered_item[0]?.title.toLowerCase()}}. The fee is a percentage of the total added coverage amount."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <p *ngIf="item.defaultCoverage < 0"><strong>DECREASE FEE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the decrease fee when decreasing the coverage amount for a {{item?.covered_item[0]?.title.toLowerCase()}}. The fee is a percentage of the total removed coverage amount."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span
                      *ngIf="item.defaultCoverage >= 0">{{item?.covered_item[0]?.maximum_coverage_increase_fee}}%</span>
                    <span
                      *ngIf="item.defaultCoverage < 0">{{item?.covered_item[0]?.maximum_coverage_decrease_fee}}%</span>
                  </li>
                  <li>
                    <p><strong>COST OF INCREASE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total cost of the coverage amount you have added to {{item?.covered_item[0]?.title.toLowerCase()}}"
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      ${{(item.defaultCoverage * 
                        (item.defaultCoverage > 0 ? item?.covered_item[0]?.maximum_coverage_increase_fee : item?.covered_item[0]?.maximum_coverage_decrease_fee)) / 100}}</span>
                  </li>
                  <hr>
                  <li>
                    <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item[0]?.title.toLowerCase()}} unit during a 12 month term including any additional coverage amount that you have added to the plan."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      {{(item.covrageValue + item.defaultCoverage)}}
                    </span>
                  </li>
                  <li>
                    <p><strong>Total Added Cost</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total added cost for the combined maximum coverage amount that you have added to any {{item?.covered_item[0]?.title.toLowerCase()}} units."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      ${{(item.defaultCoverage * (item.defaultCoverage > 0 ? item?.covered_item[0]?.maximum_coverage_increase_fee : item?.covered_item[0]?.maximum_coverage_decrease_fee)) / 100}}
                    </span>
                  </li>
                </ul>
              </div>
              <ng-container *ngIf="(item?.coveredunit + item.additionalunitdefaultvalue) > 1">
                <mat-accordion multi>
                  <mat-expansion-panel *ngFor="let duplicateItem of item?.dublicateItemlist; let i=index"
                    (opened)="duplicateItem.ispanelOpen = true" (closed)="duplicateItem.ispanelOpen = false">
                    <mat-expansion-panel-header>
                      <mat-panel-title>
                        <h6>
                          {{(item?.covered_item ? item?.covered_item[0]?.title : item?.title) + ('*' + duplicateItem?.count)}}

                          <span mat-raised-button
                            matTooltip="The plan you have selected covers {{duplicateItem?.coveredunit}} {{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.title : duplicateItem?.title}}. Each covered {{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.title : duplicateItem?.title}} has a maximum amount of coverage that the plan will cover during the 12 month term. You can increase the maximum coverage amount by clicking to view more. Additional fees will apply."
                            aria-label="Button that displays a tooltip when focused or hovered over">
                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                          </span></h6>
                      </mat-panel-title>
                      <mat-panel-description>
                        <div class="text-right w-100">
                          <a><u>{{duplicateItem?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                        </div>
                      </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="accorddata">
                      <ul>
                        <li>
                          <p><strong>MAXIMUM COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="Using this field you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>{{duplicateItem?.covrageValue}}</span>
                        </li>
                        <li>
                          <p><strong>INCREASE COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="Using this field, you can increase the maximum coverage amount that the plan will cover on each covered unit. Additional fees will apply, please see increase fee field below for more details."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <div>
                            <div class="qntity">
                              <div class="qnbtncont">
                                <button (click)="incrementCovrageforOptional(duplicateItem, 'dec')">
                                  <img src="assets/images/minus.png" alt="" width="28" />
                                </button>
                                <input type="text" appNumbersOnly [value]="duplicateItem?.defaultCoverage" readonly>
                                <button (click)="incrementCovrageforOptional(duplicateItem, 'inc')">
                                  <img src="assets/images/plus.png" alt="" width="28" />
                                </button>
                              </div>
                            </div>
                          </div>
                        </li>
                        <li>
                          <p *ngIf="duplicateItem.defaultCoverage >= 0"><strong>INCREASE FEE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the increase fee when increasing the coverage amount for a {{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.title : duplicateItem?.title}}. The fee is a percentage of the total added coverage amount."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <p *ngIf="duplicateItem.defaultCoverage < 0"><strong>DECREASE FEE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the decrease fee when decreasing the coverage amount for a {{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.title : duplicateItem?.title}}. The fee is a percentage of the total removed coverage amount."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span
                            *ngIf="duplicateItem.defaultCoverage >= 0">{{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee}}%</span>
                          <span
                            *ngIf="duplicateItem.defaultCoverage < 0">{{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.maximum_coverage_decrease_fee : duplicateItem?.maximum_coverage_decrease_fee}}%</span>
                        </li>
                        <li>
                          <p><strong>COST OF INCREASE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the total cost of the coverage amount you have added to {{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.title : duplicateItem?.title}}"
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            ${{((duplicateItem.defaultCoverage) * 
                              ((duplicateItem.defaultCoverage > 0) ? (duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee) : 
                              (duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.maximum_coverage_decrease_fee : duplicateItem?.maximum_coverage_decrease_fee))) / 100}}</span>
                        </li>
                        <hr>
                        <li>
                          <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.title : duplicateItem?.title}} unit during a 12 month term including any additional coverage amount that you have added to the plan."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            {{duplicateItem.covrageValue + duplicateItem.defaultCoverage}}
                          </span>
                        </li>
                        <li>
                          <p><strong>Total Added Cost</strong>
                            <span mat-raised-button
                              matTooltip="This field indicates the total added cost for the combined maximum coverage amount that you have added to any {{duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.title : duplicateItem?.title}} units."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            ${{(duplicateItem.defaultCoverage * (duplicateItem.defaultCoverage > 0 ? (duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.maximum_coverage_increase_fee : duplicateItem?.maximum_coverage_increase_fee) : 
                              (duplicateItem?.covered_item ? duplicateItem?.covered_item[0]?.maximum_coverage_decrease_fee : duplicateItem?.maximum_coverage_decrease_fee))) / 100}}</span>
                        </li>
                      </ul>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>

              </ng-container>
            </mat-expansion-panel>
          </ng-container>
        </mat-accordion>
      </div>

      <div class="totalplancost">
        <div class="stepacrdn">
          <mat-accordion>
            <mat-expansion-panel (opened)="viewmoreforbottombox = true" (closed)="viewmoreforbottombox = false">
              <mat-expansion-panel-header>
                <mat-panel-title class="justify-content-between w-100">
                  <h4 style="padding: 0px;">COST OF ADDED COVERAGE AMOUNT
                    <span mat-raised-button
                      matTooltip="This section lists the breakdown of all of the additional maximum coverage that you have added to the plan including the total maximum coverage amount added to each item and the total cost."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span></h4>
                  <div class="d-flex justify-content-end" *ngIf="viewmoreforbottombox">
                    <h4 style="padding: 0px; text-align: right;"> ADDED COVERAGE AMOUNT</h4>
                    <h4 style="padding: 0px; margin-left: 15px; width: 75px; text-align: right;">COST</h4>
                  </div>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{viewmoreforbottombox ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata">
                <ul>
                  <ng-container *ngFor="let addedcoverageList of planDetail?.coverageAddedItemList">
                    <li>
                      <p style="text-transform: uppercase;">
                        <strong>{{(addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title : addedcoverageList?.covered_item[0]?.title) + (addedcoverageList?.count ? '*' + addedcoverageList?.count : '')}}</strong>
                        <span mat-raised-button
                          matTooltip="This field indicates the total maximum coverage amount that you have added to the {{(addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title : addedcoverageList?.covered_item[0]?.title)}} including any additional cost added to the plan."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span>
                      </p>
                      <div style="display: flex; padding-right: 86px;">
                        <span
                          style="text-align: right !important;">{{(addedcoverageList?.defaultCoverage ? '$' + addedcoverageList?.defaultCoverage : '')}}</span>
                        <span
                          style="text-align: right !important;">{{(addedcoverageList?.totalincreseCoverageValue ? '$' + addedcoverageList?.totalincreseCoverageValue : '')}}</span>
                      </div>

                    </li>
                  </ng-container>
                </ul>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="plantotalsub">
            <hr>
            <ul style="padding-top: 6px;">
              <li>
                <p><strong>TOTAL ADDED COVERAGE AMOUNT</strong>
                  <span mat-raised-button
                    matTooltip="This field indicates the total combined coverage amount that you have added to the plan."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{planDetail?.totalitemCoverage}}</span>
              </li>
              <li>
                <p><strong>TOTAL COST</strong>
                  <span mat-raised-button
                    matTooltip="This field indicates the total cost for all of the additional maximum coverage that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span> ${{planDetail?.totaladdedCostForCoverage}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div id="blankscroll"></div>
    <div id="dynamic__btn" class="mt-5 btnsec a1">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 text-left pl-0 mt-5">
            <button class="linedbutton greenclr" (click)="back('stepFive', 'stepSix')"><span>Back</span></button>
          </div>
          <div class="col-sm-6 text-right pr-0 mt-5">
            <button class="linedbutton" (click)="continue('stepSeven', 'stepSix', '')"><span>Continue</span></button>
          </div>

          <div class="col-sm-12 p-0">
            <div class="foottotal mt-5">
              <ul>
                <li>
                  <p>Plan: {{planDetail?.title}}</p>
                  <p> Total Cost:
                    ${{((planDetail?.totalOptionalItemsCost + planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice + planDetail?.totaladdedCostForCoverage | number: '2.2'))}}
                  </p>
                </li>
                <li>
                  <p>TOTAL COVERED ITEMS:
                    {{planDetail?.totalCoveredUnit + planDetail?.totalAddedItems + planDetail?.totalOptionalItems}}</p>
                  <p> Total Coverage:
                    ${{(planDetail?.optionalCoverage + planDetail?.coveragefee + planDetail?.totalAddedCoverage + (planDetail?.addCoverageAmount ? planDetail?.addCoverageAmount : 0)) | number: '2.2'}}
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- After plan selection 4th step Category Coverage-->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepSeven">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="col-sm-12 vrifycontent">
      <h3>{{planDetail?.title}}</h3>
      <h4 style="text-align: center;">All covered categories are subject to a maximum dollar amount per term.</h4>
      <p class=" w-70 m-auto pt-4">
        <small>
          Please carefully review the coverage details below. You can choose to increase the maximum coverage amount of
          any category at
          additional cost by clicking to view more on each category
        </small>
      </p>
    </div>
    <div class="elitetable">
      <div class="stepacrdn">
        <div class="bgtblegry">
          <h4>CATEGORIES</h4>
        </div>
        <mat-accordion multi>
          <ng-container *ngFor="let item of planDetail?.category_covered_item; let i = index">
            <mat-expansion-panel (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6 style="text-transform: uppercase;">{{item?.category[0]?.name}}
                    <span mat-raised-button
                      matTooltip="{{item?.category[0]?.name}} aggregated coverage is limited to {{item.category[0].name.toLowerCase().includes('systems') ? totalsystemCategorycoverage(item) : item.category[0].name.toLowerCase().includes('optional') ? totaloptionalCategorycoverage(item) : totalappliacesCategorycoverage(item)}} per 12- month term for all breakdowns that can be covered under this category. You can add additional coverage amount to the plan by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata">
                <ul>
                  <li>
                    <p><strong>MAXIMUM CATEGORY COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total aggregated coverage amount that the plan covers for all items listed under the {{item?.category[0]?.name}} category during the 12-month term."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>{{item.category[0].name.toLowerCase().includes('systems') ? totalsystemCategorycoverage(item) : item.category[0].name.toLowerCase().includes('optional') ? totaloptionalCategorycoverage(item) : totalappliacesCategorycoverage(item)}}</span>
                  </li>
                  <li>
                    <p><strong>INCREASE CATEGORY COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="Using this field, you can increase the maximum aggregated coverage amount that the plan covers for all items listed under the {{item?.category[0]?.name}} category combined during the 12-month term. Additional fees will apply, please see increase fee field below for more details."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <div>
                      <div class="qntity">
                        <div class="qnbtncont">
                          <button (click)="incrementCatgoryCovrage(item, 'dec')">
                            <img src="assets/images/minus.png" alt="" width="28" />
                          </button>
                          <input type="text" appNumbersOnly [value]="item?.defaultcategoryCoverage" readonly>
                          <!-- (keyup)="onTypeCoverageValue(item, $event)" -->
                          <button (click)="incrementCatgoryCovrage(item, 'inc')">
                            <img src="assets/images/plus.png" alt="" width="28" />
                          </button>
                        </div>
                      </div>
                    </div>
                  </li>
                  <li>
                    <p *ngIf="item?.defaultcategoryCoverage >= 0"><strong>INCREASE FEE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the increase fee when increasing the aggregated coverage amount for the {{item?.category[0]?.name}} category. The fee is a percentage of the total added coverage amount."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <p *ngIf="item?.defaultcategoryCoverage < 0"><strong>DECREASE FEE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the decrease fee when decreasing the aggregated coverage amount for the {{item?.category[0]?.name}} category. The fee is a percentage of the total added coverage amount."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span
                      *ngIf="item?.defaultcategoryCoverage >= 0">{{item?.category[0]?.category_coverage_increase_fee}}%</span>
                    <span
                      *ngIf="item?.defaultcategoryCoverage < 0">{{item?.category[0]?.category_coverage_decrease_fee}}%</span>
                  </li>
                  <li>
                    <p><strong>COST OF INCREASE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total cost of the additional coverage amount that you have added to the {{item?.category[0]?.name}} category."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      ${{((item.defaultcategoryCoverage) * ((item.defaultcategoryCoverage > 0) ? (item?.category[0]?.category_coverage_increase_fee) : (item?.category[0]?.category_coverage_decrease_fee))) / 100}}</span>
                  </li>
                  <hr>
                  <li>
                    <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the maximum coverage amount that the plan cover for all items listed under the {{item?.category[0]?.name}} category during a 12 month term including any additional coverage amount that you have added to the plan."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>
                      ${{(item.category[0].name.toLowerCase().includes('systems') ? totalsystemCategorycoverage(item) : item.category[0].name.toLowerCase().includes('optional') ? totaloptionalCategorycoverage(item) : totalappliacesCategorycoverage(item)) + item.defaultcategoryCoverage}}
                    </span>
                  </li>
                  <li>
                    <p><strong>Total Added Cost</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total added cost for the aggregated maximum coverage amount that you have added to the {{item?.category[0]?.name}} category."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span></p>
                    <span>${{((item.defaultcategoryCoverage) * ((item.defaultcategoryCoverage > 0) ? (item?.category[0]?.category_coverage_increase_fee) : (item?.category[0]?.category_coverage_decrease_fee))) / 100}}</span>
                  </li>
                </ul>
              </div>
            </mat-expansion-panel>
          </ng-container>
        </mat-accordion>
      </div>

      <div class="totalplancost">
        <div class="stepacrdn">
          <mat-accordion>
            <mat-expansion-panel (opened)="viewmoreforbottombox = true" (closed)="viewmoreforbottombox = false">
              <mat-expansion-panel-header>
                <mat-panel-title class="justify-content-between w-100">
                  <h4 style="padding: 0px;">COST OF ADDED CATEGORY COVERAGE AMOUNT
                    <span mat-raised-button
                      matTooltip="This section lists the breakdown of all of the additional aggregated maximum coverage that you have added to the plan including the total aggregated maximum coverage amount added to any covered categories and the total cost."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span></h4>
                  <div class="d-flex justify-content-end" *ngIf="viewmoreforbottombox">
                    <h4 style="padding: 0px; text-align: right;"> ADDED COVERAGE AMOUNT</h4>
                    <h4 style="padding: 0px; margin-left: 15px; width: 75px; text-align: right;">COST</h4>
                  </div>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>{{viewmoreforbottombox ? 'Close' : 'View More'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="accorddata">
                <ul>
                  <li *ngFor="let addedcoverageList of planDetail?.categorycoverageAddedItemList">
                    <p style="text-transform: uppercase;">
                      <strong>{{(addedcoverageList?.category[0]?.name)}}</strong>
                      <span mat-raised-button
                        matTooltip="This field indicates the total aggregated maximum coverage amount that you have added to the {{addedcoverageList?.category[0]?.name}} category including any additional cost added to the plan."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span>
                    </p>
                    <div style="display: flex; padding-right: 86px;">
                      <span
                        style="text-align: right !important;">{{(addedcoverageList?.defaultcategoryCoverage ? '$' + addedcoverageList?.defaultcategoryCoverage : '')}}</span>
                      <span
                        style="text-align: right !important;">{{(addedcoverageList?.totalCalculatedCost ? '$' + addedcoverageList?.totalCalculatedCost : '')}}</span>
                    </div>

                  </li>
                </ul>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="plantotalsub">
            <hr>
            <ul style="padding-top: 6px;">
              <li>
                <p><strong>TOTAL ADDED CATEGORY COVERAGE AMOUNT</strong>
                  <span mat-raised-button
                    matTooltip="This field indicates the total aggregated maximum coverage amount that you have added to all of the covered categories combined including any additional cost added to the plan."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{planDetail?.totalAddedCoverageAmount}}</span>
              </li>
              <li>
                <p><strong>TOTAL COST</strong>
                  <span mat-raised-button
                    matTooltip="This field indicates the total cost for all of the additional aggregated maximum coverage that you have added to the plan across all covered categories combined. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span> ${{planDetail?.totalCategorycoverage}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div id="blankscroll"></div>
    <div id="dynamic__btn" class=" mt-5 btnsec a1">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 text-left pl-0 mt-5">
            <button class="linedbutton greenclr" (click)="back('stepSix', 'stepSeven')"><span>Back</span></button>
          </div>
          <!-- (click)="back('stepFive', 'stepSix')" -->
          <div class="col-sm-6 text-right pr-0 mt-5">
            <button class="linedbutton" (click)="continue('stepEight', 'stepSeven', '')"><span>Continue</span></button>
          </div>
          <!-- (click)="continue('stepSeven', 'stepSix', '')" -->
          <div class="col-sm-12 p-0">
            <div class="foottotal mt-5">
              <ul>
                <li>
                  <p>Plan: {{planDetail?.title}}</p>
                  <p> Total Cost:
                    ${{((planDetail?.totalOptionalItemsCost + planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice + planDetail?.totalCategorycoverage + planDetail?.totaladdedCostForCoverage)| number: '2.2')}}
                  </p>
                </li>
                <li>
                  <p>TOTAL COVERED ITEMS:
                    {{planDetail?.totalCoveredUnit + planDetail?.totalAddedItems + planDetail?.totalOptionalItems}}</p>
                  <p> Total Coverage:
                    ${{((planDetail?.optionalCoverage + planDetail?.coveragefee + (planDetail?.addCoverageAmount ? planDetail?.addCoverageAmount : 0) + planDetail?.totalAddedCoverage) | number: '2.2')}}
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- After plan selection 5th step Service Fee-->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepEight">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="row w-80 m-auto ">
      <div class="col-sm-12 vrifycontent mb-5">
        <h3>{{planDetail?.title}}</h3>
        <h4 class="w-70 m-auto pt-4" style="text-align: center;">Set the amount you pay when you request a service.
        </h4>
        <p class=" w-70 m-auto pt-4">
          <small>
            Select your service fee from the following options:
          </small>
        </p>
      </div>
      <div class="col-sm-12">
        <div class="row w-100 m-auto">
          <div class="col-sm-3 col-lg-6">
            <div class="customradiobtn customheight">
              <input type="radio" id="a251" name="amount" [value]="planDetail?.service_fee?.price_0"
                [formControl]="serviceFee" />
              <label for="a251" class="animate-cus ts-5">$0 SERVICE FEE <span mat-raised-button
                  matTooltip="When filing a claim, you need to pay a $0 service fee for the first 5 claims during the 12-month term. After the fifth claim, you will need to pay the standard service fee of $70 for each additional claim during the remaining term of the service agreement."
                  aria-label="Button that displays a tooltip when focused or hovered over"
                  style="display: inline-block; margin-top: 0;">
                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                </span>
                <span> Up to Five free service calls <br> Additional cost: ${{planDetail?.service_fee?.price_0}}</span>
              </label>
            </div>
          </div>

          <div class="col-sm-3 col-lg-6">
            <div class="customradiobtn customheight">
              <input type="radio" id="a252" name="amount" [value]="planDetail?.service_fee?.price_70"
                [formControl]="serviceFee" />
              <label for="a252" class="animate-cus ts-6">$70 SERVICE FEE
                <span mat-raised-button
                  matTooltip="When filing a claim, you need to pay a $70 service fee on any claims filed during the 12-month term."
                  aria-label="Button that displays a tooltip when focused or hovered over"
                  style="display: inline-block; margin-top: 0;">
                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                </span>
                <span> Standered service fee</span>
              </label>

            </div>
          </div>

          <div class="col-sm-3 col-lg-6">
            <div class="customradiobtn customheight">
              <input type="radio" id="a253" name="amount" [value]="planDetail?.service_fee?.price_100"
                [formControl]="serviceFee" />
              <label for="a253" class="animate-cus ts-7">$100 ERVICE FEE
                <span mat-raised-button
                  matTooltip="When filing a claim, you need to pay a $100 service fee on any claims filed during the 12-month term."
                  aria-label="Button that displays a tooltip when focused or hovered over"
                  style="display: inline-block; margin-top: 0;">
                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                </span>
                <span> Reduce plan cost in $40</span>
              </label>
            </div>
          </div>

          <div class="col-sm-3 col-lg-6">
            <div class="customradiobtn customheight">
              <input type="radio" id="a254" name="amount" [value]="planDetail?.service_fee?.price_130"
                [formControl]="serviceFee" />
              <label for="a254" class="animate-cus ts-8">$130 ERVICE FEE
                <span mat-raised-button
                  matTooltip="When filing a claim, you need to pay a $130 service fee on any claims filed during the 12-month term."
                  aria-label="Button that displays a tooltip when focused or hovered over"
                  style="display: inline-block; margin-top: 0;">
                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                </span>
                <span> Reduce plan cost in $70</span>
              </label>
            </div>
          </div>
          <mat-error *ngIf="serviceFee.touched && serviceFee.hasError('required')">
            Please choose any one option
          </mat-error>
          <div class="col-sm-12">
            <div id="dynamic__btn" class="row btnsec a1">
              <div class="col-sm-6 text-left pl-2 mt-5">
                <button class="linedbutton greenclr" (click)="back('stepSeven', 'stepEight')"><span>Back</span></button>
              </div>
              <div class="col-sm-6 text-right pr-0 mt-5">
                <button class="linedbutton"
                  (click)="continue('stepNine', 'stepEight', 'serviceFee')"><span>Continue</span></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Final row -->
    <div class="row">
      <div class="col-sm-12 p-0">
        <div class="foottotal mt-5">
          <ul>
            <li>
              <p>Plan: {{planDetail?.title}}</p>
              <p> Total Cost:
                ${{(((transformtonumber(planDetail?.totalOptionalItemsCost + planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice + planDetail?.totalCategorycoverage + planDetail?.totaladdedCostForCoverage)) + (transformtonumber(serviceFee.value) ? (transformtonumber(serviceFee.value)) : 0))| number: '2.2')}}
              </p>
            </li>
            <li>
              <p>TOTAL COVERED ITEMS:
                {{(planDetail?.totalCoveredUnit + planDetail?.totalAddedItems + planDetail?.totalOptionalItems)| number: '2.2'}}
              </p>
              <p> Total Coverage:
                ${{(planDetail?.optionalCoverage + planDetail?.coveragefee + planDetail?.totalAddedCoverage + (planDetail?.addCoverageAmount ? planDetail?.addCoverageAmount : 0)) | number: '2.2'}}
              </p>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- After plan selection 6th step Plan Summary-->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepNine">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="col-sm-12 vrifycontent">
      <h3>{{planDetail?.title}}</h3>
      <h4>Please carefully review the details of the home warranty plan you have selected.
        Click to view details on each of the
        following sections.</h4>
    </div>
    <div class="elitetable">
      <div class="totalplancost">
        <div class="stepacrdn">
          <h4 class="mt-3">SELECTED PLAN
            <span class="tooltip-container" mat-raised-button
              matTooltip="This field indicates the type of the plan you have selected. Please click to view more in order to see the list of items the plan covers."
              aria-label="Button that displays a tooltip when focused or hovered over">
              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
            </span>
          </h4>
          <hr>
          <mat-accordion>
            <mat-expansion-panel (opened)="plansummary.plan1stpanelState = true"
              (closed)="plansummary.plan1stpanelState = false">
              <mat-expansion-panel-header class="bgtblegreen" style="margin: 0 24px;">
                <div class=" w-100">
                  <mat-panel-title>
                    <h6 style="text-transform: uppercase; text-align: center; width: 100%;">{{planDetail?.title}}</h6>
                    <div class="text-right position-absolute rightgreenbtn">
                      <a><u>{{plansummary.plan1stpanelState ? 'Close' : 'View more'}}</u></a>
                    </div>
                  </mat-panel-title>

                </div>
              </mat-expansion-panel-header>
              <div class="stepacrdn hassubaccrdin" *ngIf="planDetail?.isShowappliance">
                <div class="bgtblegry">
                  <h4>APPLIANCES</h4>
                </div>
                <mat-accordion multi>
                  <ng-container *ngFor="let item of planDetail?.itemList[0]?.info?.covered_item_list; let i = index">
                    <mat-expansion-panel *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'appliance'"
                      (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <h6>
                            <!-- matTooltip="Info about the action" [matTooltipPosition]="'right'" -->
                            {{item?.covered_item_id?.title}}[{{item?.coveredunit}}]
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="The plan you have selected covers a total of {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}, whichever one breaks down first. Click to view more to see the full coverage details."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span>
                          </h6>
                        </mat-panel-title>
                        <mat-panel-description>
                          <div class="text-right w-100">
                            <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                          </div>
                        </mat-panel-description>
                      </mat-expansion-panel-header>
                      <div class="accorddata">
                        <ul>
                          <li>
                            <p><strong>Number of covered units</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} that are covered with the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>{{item?.coveredunit}}</span>
                          </li>
                          <li>
                            <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12-month term."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>${{item?.covrageValue}}</span>
                          </li>
                          <!-- <li>
                            <p><strong>Add Additional unit</strong>
                              <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <div>
                              <div class="qntity">
                                <div class="qnbtncont">
                                  <button (click)="addremoveitem(item, 'dec')">
                                    <img src="assets/images/minus.png" alt="" width="28" />
                                  </button>
                                  <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue" readonly>
                                  <button (click)="addremoveitem(item, 'inc')">
                                    <img src="assets/images/plus.png" alt="" width="28" />
                                  </button>
                                </div>
                              </div>
                            </div>
                          </li> -->
                          <!-- <li>
                            <p><strong>Cost of each additional unit</strong>
                              <span class="tooltip-container" mat-raised-button matTooltip="This field indicates the total number of {{item?.covered_item_id?.title}} units after adding any additional units to the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span> ${{item?.price}}</span>
                          </li> -->
                          <hr>
                          <li>
                            <p><strong>Total Number of covered units</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} units after adding any additional units to the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              {{item.coveredunit}}
                            </span>
                          </li>
                          <!-- <li>
                            <p><strong>Total Added Cost</strong>
                              <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span> ${{item.addedcosttotal}}</span>
                          </li> -->
                        </ul>
                      </div>
                    </mat-expansion-panel>
                  </ng-container>
                </mat-accordion>
              </div>

              <div class="stepacrdn hassubaccrdin" *ngIf="planDetail?.isShowsystem">
                <div class="bgtblegry">
                  <h4>Systems</h4>
                </div>
                <mat-accordion multi>
                  <ng-container *ngFor="let item of planDetail?.itemList[0].info?.covered_item_list">
                    <mat-expansion-panel *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'system'"
                      (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <h6>
                            {{item?.covered_item_id?.title}}[{{item?.coveredunit}}]
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="The plan you have selected covers a total of {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}, whichever one breaks down first. Click to view more to see the full coverage details."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span>
                          </h6>
                        </mat-panel-title>
                        <mat-panel-description>
                          <div class="text-right w-100">
                            <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                          </div>
                        </mat-panel-description>
                      </mat-expansion-panel-header>
                      <div class="accorddata">
                        <ul>
                          <li>
                            <p><strong>Number of covered unit</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} that are covered with the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>{{item.coveredunit}}</span>
                          </li>
                          <li>
                            <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12-month term."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>${{item?.covrageValue}}</span>
                          </li>
                          <!-- <li>
                            <p><strong>Add Additional unit</strong>
                              <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <div>
                              <div class="qntity">
                                <div class="qnbtncont">
                                  <button (click)="addremoveitem(item, 'dec')">
                                    <img src="assets/images/minus.png" alt="" width="28" />
                                  </button>
                                  <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue" readonly>
                                  <button (click)="addremoveitem(item, 'inc')">
                                    <img src="assets/images/plus.png" alt="" width="28" />
                                  </button>
                                </div>
                              </div>
                            </div>
                          </li> -->
                          <!-- <li>
                            <p><strong>Cost of each additional unit</strong>
                              <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>${{item?.price}}</span>
                          </li> -->
                          <hr>
                          <li>
                            <p><strong>Total Number of covered units</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} units after adding any additional units to the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              {{item.coveredunit}}
                            </span>
                          </li>

                          <!-- <li>
                            <p><strong>Total Added Cost</strong>
                              <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span> ${{item.addedcosttotal}}</span>
                          </li> -->
                        </ul>
                      </div>
                    </mat-expansion-panel>
                  </ng-container>
                </mat-accordion>
              </div>

            </mat-expansion-panel>
          </mat-accordion>
          <div class="accorddata p-3">
            <ul>
              <li>
                <p><strong>Number of covered Items</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field indicates the total number of combined items and units that are covered with the plan including any additional units that you have added to the plan."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>
                  {{planDetail?.totalCoveredUnit}}
                </span>
              </li>
              <li>
                <p><strong>Total Cost</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field only indicates the total standard cost of the plan you have selected prior to adding the cost of any additional coverage that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span *ngIf="planDetail?.itemList">${{(planDetail?.itemList[0]?.info?.cost_per_plan)}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="elitetable">
      <div class="totalplancost">
        <div class="stepacrdn hassubaccrdin">
          <mat-accordion>
            <mat-expansion-panel (opened)="plansummary.plan2ndpanelState = true"
              (closed)="plansummary.plan2ndpanelState = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6>COST OF ADDED UNITS
                    <span class="tooltip-container" mat-raised-button
                      matTooltip="This section indicates the additional units that you have added to the plan. You can add additional units by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <!-- <a (click)="back('stepFour','stepNine')"><u>Edit</u></a> &nbsp;&nbsp; -->
                    <a><u>{{plansummary.plan2ndpanelState ? 'Close' : 'View more'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="stepacrdn">
                <div class="bgtblegreen">
                  <h4>Items</h4>
                </div>
                <div class="bgtblegry">
                  <h4>APPLIANCES</h4>
                </div>
                <mat-accordion multi>
                  <ng-container *ngFor="let item of planDetail?.itemList[0]?.info?.covered_item_list; let i = index">
                    <ng-container>
                      <mat-expansion-panel (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false"
                        *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'appliance'">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <h6>{{item?.covered_item_id?.title}}[{{item?.additionalunitdefaultvalue}}]
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan. You can add additional units by clicking to view more. Additional fees will apply."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span>
                            </h6>
                          </mat-panel-title>
                          <mat-panel-description>
                            <div class="text-right w-100">
                              <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                            </div>
                          </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="accorddata">
                          <ul>
                            <li>
                              <p><strong>Number of covered units</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the number of additional {{item?.covered_item_id?.title.toLowerCase()}} that you have added to the plan."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span>{{item?.coveredunit}}</span>
                            </li>
                            <li>
                              <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12-month term."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span>${{item?.covrageValue}}</span>
                            </li>
                            <li>
                              <p><strong>Add Additional units</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="Using this field you can add additional {{item?.covered_item_id?.title.toLowerCase()}} units to the plan. Additional fees will apply."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <div>
                                <div class="qntity">
                                  <div class="qnbtncont">
                                    <button (click)="addremoveitem(item, 'dec')">
                                      <img src="assets/images/minus.png" alt="" width="28" />
                                    </button>
                                    <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue"
                                      readonly>
                                    <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                                    <button (click)="addremoveitem(item, 'inc')">
                                      <img src="assets/images/plus.png" alt="" width="28" />
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </li>
                            <li>
                              <p><strong>Cost of each additional unit</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the cost of each additional {{item?.covered_item_id?.title.toLowerCase()}} unit that can be added to the plan."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span> ${{item?.price}}</span>
                            </li>
                            <hr>
                            <li>
                              <p><strong>Total Number of covered units</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the total number of the additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span>
                                {{item?.additionalunitdefaultvalue + item.coveredunit}}
                              </span>
                            </li>
                            <li>
                              <p><strong>Total Added Cost</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the total added fees for any additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span> ${{item.addedcosttotal}}</span>
                            </li>
                          </ul>
                        </div>
                      </mat-expansion-panel>
                    </ng-container>
                  </ng-container>
                </mat-accordion>
              </div>
              <div class="stepacrdn">
                <div class="bgtblegry">
                  <h4>SYSTEMS</h4>
                </div>
                <mat-accordion multi>
                  <ng-container *ngFor="let item of planDetail?.itemList[0]?.info?.covered_item_list; let i = index">
                    <ng-container>
                      <mat-expansion-panel (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false"
                        *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'system'">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <h6>{{item?.covered_item_id?.title}}[{{item?.additionalunitdefaultvalue}}]
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan. You can add additional units by clicking to view more. Additional fees will apply."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span>
                            </h6>
                          </mat-panel-title>
                          <mat-panel-description>
                            <div class="text-right w-100">
                              <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                            </div>
                          </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="accorddata">
                          <ul>
                            <li>
                              <p><strong>Number of covered unit</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the number of additional {{item?.covered_item_id?.title.toLowerCase()}} that you have added to the plan."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span>{{item?.coveredunit}}</span>
                            </li>
                            <li>
                              <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12-month term."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span>${{item?.covrageValue}}</span>
                            </li>
                            <li>
                              <p><strong>Add Additional unit</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="Using this field you can add additional {{item?.covered_item_id?.title.toLowerCase()}} units to the plan. Additional fees will apply."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <div>
                                <div class="qntity">
                                  <div class="qnbtncont">
                                    <button (click)="addremoveitem(item, 'dec')">
                                      <img src="assets/images/minus.png" alt="" width="28" />
                                    </button>
                                    <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue"
                                      readonly>
                                    <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                                    <button (click)="addremoveitem(item, 'inc')">
                                      <img src="assets/images/plus.png" alt="" width="28" />
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </li>
                            <li>
                              <p><strong>Cost of each additional unit</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the cost of each additional {{item?.covered_item_id?.title.toLowerCase()}} unit that can be added to the plan."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span> ${{item?.price}}</span>
                            </li>
                            <hr>
                            <li>
                              <p><strong>Total Number of covered units</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the total number of the additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span>
                                {{item?.additionalunitdefaultvalue + item.coveredunit}}
                              </span>
                            </li>
                            <li>
                              <p><strong>Total Added Cost</strong>
                                <span class="tooltip-container" mat-raised-button
                                  matTooltip="This field indicates the total added fees for any additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan."
                                  aria-label="Button that displays a tooltip when focused or hovered over">
                                  <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                </span></p>
                              <span> ${{item.addedcosttotal}}</span>
                            </li>
                          </ul>
                        </div>
                      </mat-expansion-panel>
                    </ng-container>

                  </ng-container>
                </mat-accordion>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="accorddata p-3">
            <ul>
              <li>
                <p><strong>TOTAL NUMBER OF COVERED UNITS</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field indicates the total number of combined additional items and units that you have added to the plan."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span> {{planDetail?.totalAddedItems}}</span>
              </li>
              <li>
                <p><strong>Total Cost</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field only indicates the total cost of any additional units that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{(planDetail?.totaladdedprice)}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="elitetable">
      <div class="totalplancost">
        <div class="stepacrdn hassubaccrdin">
          <mat-accordion>
            <mat-expansion-panel (opened)="plansummary.plan3rdpanelState = true"
              (closed)="plansummary.plan3rdpanelState = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6>COST OF ADDED OPTIONAL ITEMS
                    <span class="tooltip-container" mat-raised-button
                      matTooltip="This section indicates the additional optional items that you have added to the plan. You can add additional units by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <!-- <a><u>Edit</u></a>&nbsp;&nbsp; -->
                    <a><u>{{plansummary.plan3rdpanelState ? 'Close' : 'View more'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="stepacrdn">
                <div class="bgtblegreen">
                  <h4>Items</h4>
                </div>
                <mat-accordion multi>
                  <ng-container *ngFor="let item of planDetail?.optionalItemcoverageCategory">
                    <mat-expansion-panel (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <h6>{{item?.covered_item[0]?.title}}
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="You have added {{item.additionalunitdefaultvalue}} {{item?.covered_item[0]?.title.toLowerCase()}} to the plan. You can edit by clicking to view more."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span>
                          </h6>
                        </mat-panel-title>
                        <mat-panel-description>
                          <div class="text-right w-100">
                            <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                          </div>
                        </mat-panel-description>
                      </mat-expansion-panel-header>
                      <div class="accorddata">
                        <ul>
                          <li>
                            <p><strong>Number of covered units</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total number of {{item?.covered_item[0]?.title.toLowerCase()}} that are covered with the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>{{item.coveredunit}}</span>
                          </li>
                          <li>
                            <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item[0]?.title.toLowerCase()}} during the 12-month term."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>${{item?.covrageValue}}</span>
                          </li>
                          <li>
                            <p><strong>Add Additional units</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="Using this field you can adjust the number of {{item?.covered_item[0]?.title.toLowerCase()}} units that the plan will cover. Additional fees will apply."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <div>
                              <div class="qntity">
                                <div class="qnbtncont">
                                  <div class="qnbtncont">
                                    <button (click)="addremoveOptionalitems(item, 'dec')">
                                      <img src="assets/images/minus.png" alt="" width="28" />
                                    </button>
                                    <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue"
                                      readonly>
                                    <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                                    <button (click)="addremoveOptionalitems(item, 'inc')">
                                      <img src="assets/images/plus.png" alt="" width="28" />
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </li>
                          <li>
                            <p><strong>Cost of each additional unit</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the cost of each {{item?.covered_item[0]?.title.toLowerCase()}} unit that can be added to the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span> ${{item?.quantity}}</span>
                          </li>
                          <hr>
                          <li>
                            <p><strong>Total Number of covered units</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total number of {{item?.covered_item[0]?.title.toLowerCase()}} units after adding any additional units to the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              {{item?.additionalunitdefaultvalue + item.coveredunit}}
                            </span>
                          </li>
                          <li>
                            <p><strong>Total Added Cost</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total added fees for any additional {{item?.covered_item[0]?.title.toLowerCase()}} units that you have added to the plan."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span> ${{item.addedcosttotal}}</span>
                          </li>
                        </ul>
                      </div>
                    </mat-expansion-panel>
                  </ng-container>
                </mat-accordion>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="accorddata p-3">
            <ul>
              <li>
                <p><strong>NUMBER OF ADDED OPTIONAL ITEMS</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field indicates the total number of combined optional items and units that you have added to the plan."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>{{planDetail?.totalOptionalItems}}</span>
              </li>

              <li>
                <p><strong>TOTAL COST</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field only indicates the total cost of optional items that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{planDetail?.totalOptionalItemsCost}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="elitetable">
      <div class="totalplancost">
        <div class="stepacrdn hassubaccrdin">
          <mat-accordion>
            <mat-expansion-panel (opened)="plansummary.plan4thpanelState = true"
              (closed)="plansummary.plan4thpanelState = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6>COST OF ADDED COVERAGE AMOUNT
                    <span class="tooltip-container" mat-raised-button
                      matTooltip="This section indicates the additional coverage amount that you have added to any covered items. You can edit the coverage amount by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <!-- <a><u>Edit</u></a> &nbsp;&nbsp; -->
                    <a><u>{{plansummary.plan4thpanelState ? 'Close' : 'View more'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="stepacrdn">
                <div class="bgtblegreen">
                  <h4>Items</h4>
                </div>
                <mat-accordion multi>
                  <ng-container *ngFor="let addedcoverageList of planDetail?.coverageAddedItemList">
                    <mat-expansion-panel (opened)="addedcoverageList.ispanelOpen = true"
                      (closed)="addedcoverageList.ispanelOpen = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <h6>
                            {{(addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title : addedcoverageList?.covered_item[0]?.title) + (addedcoverageList?.count ? '*' + addedcoverageList?.count : '')}}
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field indicates the additional coverage amount that you have added to the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}. You can edit the coverage amount by clicking to view more. Additional fees will apply."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span>
                          </h6>
                        </mat-panel-title>
                        <mat-panel-description>
                          <div class="text-right w-100">
                            <a><u>{{addedcoverageList?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                          </div>
                        </mat-panel-description>
                      </mat-expansion-panel-header>
                      <div class="accorddata">
                        <ul>
                          <li>
                            <p><strong>MAXIMUM COVERAGE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the standard maximum coverage amount that the plan will cover on each covered {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}} unit."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>{{addedcoverageList?.covrageValue}}</span>
                          </li>
                          <li>
                            <p><strong>INCREASE COVERAGE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the additional coverage amount that you have added to the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}. Using this field, you can edit the maximum coverage amount that the plan will cover on each covered {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title : addedcoverageList?.covered_item[0]?.title}} unit. Additional fees will apply, please see increase fee field below for more details."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <div>
                              <div class="qntity">
                                <div class="qnbtncont">
                                  <button (click)="incrementCovrage(addedcoverageList, 'dec')">
                                    <img src="assets/images/minus.png" alt="" width="28" />
                                  </button>
                                  <input type="text" appNumbersOnly [value]="addedcoverageList?.defaultCoverage"
                                    (keyup)="onTypeCoverageValue(addedcoverageList, $event)">
                                  <button (click)="incrementCovrage(addedcoverageList, 'inc')">
                                    <img src="assets/images/plus.png" alt="" width="28" />
                                  </button>
                                </div>
                              </div>
                            </div>
                          </li>
                          <li>
                            <p *ngIf="addedcoverageList?.defaultCoverage >= 0"><strong>INCREASE FEE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the increase fee when increasing the coverage amount for a {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}. The fee is a percentage of the total added coverage amount."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <p *ngIf="addedcoverageList?.defaultCoverage < 0"><strong>DECREASE FEE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the decrease fee when decreasing the coverage amount for a {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}. The fee is a percentage of the total removed coverage amount."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span
                              *ngIf="addedcoverageList?.defaultCoverage >= 0">{{addedcoverageList?.covered_item_id?.maximum_coverage_increase_fee}}%</span>
                            <span
                              *ngIf="addedcoverageList?.defaultCoverage < 0">{{addedcoverageList?.covered_item_id?.maximum_coverage_decrease_fee}}%</span>
                          </li>
                          <li>
                            <p><strong>COST OF INCREASE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total cost of the coverage amount you have added to the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              ${{(addedcoverageList.defaultCoverage * addedcoverageList?.covered_item_id?.maximum_coverage_increase_fee) / 100}}</span>
                          </li>
                          <hr>
                          <li>
                            <p><strong>TOTAL ADDED COVERAGE AMOUNT</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total amount of the additional coverage amount that you have added the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              {{addedcoverageList.defaultCoverage}}
                            </span>
                          </li>
                          <li>
                            <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}} unit during a 12-month term including the additional coverage amount that you have added."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              {{addedcoverageList.covrageValue + addedcoverageList.defaultCoverage}}
                            </span>
                          </li>
                          <li>
                            <p><strong>Total Added Cost</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total added cost for the combined maximum coverage amount that you have added to the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}} unit."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>${{(addedcoverageList.defaultCoverage * addedcoverageList?.covered_item_id?.maximum_coverage_increase_fee) / 100}}</span>
                          </li>
                        </ul>
                      </div>
                    </mat-expansion-panel>
                  </ng-container>
                </mat-accordion>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="accorddata p-3">
            <ul>
              <li>
                <p><strong>TOTAL ADDED COVERAGE AMOUNT</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field indicates the total combined coverage amount that you have added to the plan."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{planDetail?.totalitemCoverage}}</span>
              </li>

              <li>
                <p><strong>Total Cost</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field indicates the total cost for all of the additional maximum coverage that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{planDetail?.totaladdedCostForCoverage}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="elitetable">
      <div class="totalplancost">
        <div class="stepacrdn hassubaccrdin">
          <mat-accordion>
            <mat-expansion-panel (opened)="plansummary.plan5thpanelState = true"
              (closed)="plansummary.plan5thpanelState = false">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6>COST OF ADDED CATEGORY COVERAGE AMOUNT
                    <span class="tooltip-container" mat-raised-button
                      matTooltip="This section indicates the additional coverage amount that you have added to any covered category. You can edit the coverage amount by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <!-- <a><u>Edit</u></a> &nbsp;&nbsp; -->
                    <a><u>{{plansummary.plan5thpanelState? 'Close' : 'View more'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="stepacrdn">
                <div class="bgtblegreen">
                  <h4>Items</h4>
                </div>
                <mat-accordion multi>
                  <ng-container *ngFor="let item of planDetail?.category_covered_item; let i = index">
                    <mat-expansion-panel (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <h6>{{item?.category[0]?.name}}
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field indicates the additional coverage amount that you have added to the {{item?.category[0]?.name}}. You can edit the coverage amount by clicking to view more. Additional fees will apply."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span>
                          </h6>
                        </mat-panel-title>
                        <mat-panel-description>
                          <div class="text-right w-100">
                            <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                          </div>
                        </mat-panel-description>
                      </mat-expansion-panel-header>
                      <div class="accorddata">
                        <ul>
                          <li>
                            <p><strong>MAXIMUM CATEGORY COVERAGE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the standard total aggregated coverage amount that the plan will provide for all items listed under the {{item?.category[0]?.name}} category during the 12- month term."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>{{item.category[0].name.toLowerCase().includes('systems') ? totalsystemCategorycoverage(item) : item.category[0].name.toLowerCase().includes('optional') ? totaloptionalCategorycoverage(item) : totalappliacesCategorycoverage(item)}}</span>
                          </li>
                          <li>
                            <p><strong>INCREASE CATEGORY COVERAGE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the additional coverage amount that you have added to the {{item?.category[0]?.name}}. Using this field, you can increase the maximum aggregated coverage amount that the plan will cover for all items listed under the {{item?.category[0]?.name}} category combined during the 12 month term. Additional fees will apply, please see increase fee field below for more details."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <div>
                              <div class="qntity">
                                <div class="qnbtncont">
                                  <button (click)="incrementCatgoryCovrage(item, 'dec')">
                                    <img src="assets/images/minus.png" alt="" width="28" />
                                  </button>
                                  <input type="text" appNumbersOnly [value]="item?.defaultcategoryCoverage" readonly>
                                  <!-- (keyup)="onTypeCoverageValue(item, $event)" -->
                                  <button (click)="incrementCatgoryCovrage(item, 'inc')">
                                    <img src="assets/images/plus.png" alt="" width="28" />
                                  </button>
                                </div>
                              </div>
                            </div>
                          </li>
                          <li>
                            <p *ngIf="item?.defaultcategoryCoverage >= 0"><strong>INCREASE FEE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the increase fee when increasing the aggregated coverage amount for the {{item?.category[0]?.name}} category. The fee is a percentage of the total added coverage amount."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <p *ngIf="item?.defaultcategoryCoverage < 0"><strong>DECREASE FEE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the decrease fee when decreasing the aggregated coverage amount for the {{item?.category[0]?.name}} category. The fee is a percentage of the total added coverage amount."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span
                              *ngIf="item?.defaultcategoryCoverage >= 0">{{item?.category[0]?.category_coverage_increase_fee}}%</span>
                            <span
                              *ngIf="item?.defaultcategoryCoverage < 0">{{item?.category[0]?.category_coverage_decrease_fee}}%</span>
                          </li>
                          <li>
                            <p><strong>COST OF INCREASE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total cost of the coverage amount you have added to the {{item?.category[0]?.name}} category."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              ${{((item.defaultcategoryCoverage) * ((item.defaultcategoryCoverage > 0) ? (item?.category[0]?.category_coverage_increase_fee) : (item?.category[0]?.category_coverage_decrease_fee))) / 100}}</span>
                          </li>
                          <hr>
                          <li>
                            <p><strong>TOTAL ADDED COVERAGE AMOUNT</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total amount of the additional coverage amount that you have added the {{item?.category[0]?.name}} category."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              {{item.defaultcategoryCoverage}}
                            </span>
                          </li>
                          <li>
                            <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the maximum coverage amount that the plan will cover for all items listed under the {{item?.category[0]?.name}} category during a 12 month term including any additional coverage amount that you have added to the {{item?.category[0]?.name}} category."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              ${{(item.category[0].name.toLowerCase().includes('systems') ? totalsystemCategorycoverage(item) : item.category[0].name.toLowerCase().includes('optional') ? totaloptionalCategorycoverage(item) : totalappliacesCategorycoverage(item)) + item.defaultcategoryCoverage}}
                            </span>
                          </li>
                          <li>
                            <p><strong>Total Added Cost</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicates the total added cost for the aggregated maximum coverage amount that you have added to the {{item?.category[0]?.name}} category."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>${{((item.defaultcategoryCoverage) * ((item.defaultcategoryCoverage > 0) ? (item?.category[0]?.category_coverage_increase_fee) : (item?.category[0]?.category_coverage_decrease_fee))) / 100}}</span>
                          </li>
                        </ul>
                      </div>
                    </mat-expansion-panel>
                  </ng-container>
                </mat-accordion>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="accorddata p-3">
            <ul>
              <li>
                <p><strong>TOTAL ADDED CATEGORY COVERAGE AMOUNT</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field indicates the total aggregated maximum coverage amount that you have added to any of the covered categories combined."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{planDetail?.totalAddedCoverageAmount}}</span>
              </li>

              <li>
                <p><strong>Total Cost</strong>
                  <span class="tooltip-container" mat-raised-button
                    matTooltip="This field only indicates the total added cost for all of the additional aggregated maximum coverage that you have added to the plan across all covered categories combined. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                    aria-label="Button that displays a tooltip when focused or hovered over">
                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                  </span></p>
                <span>${{planDetail?.totalCategorycoverage}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="elitetable">
      <div class="totalplancost">
        <div class="stepacrdn hassubaccrdin">
          <mat-accordion>
            <mat-expansion-panel (opened)="plansummary.plan6thpanelState = true"
              (closed)="plansummary.plan6thpanelState = false">
              <mat-expansion-panel-header style="border-bottom: 1px solid #37423f;">
                <mat-panel-title>
                  <h6>SELECTED SERVICE FEE
                    <span class="tooltip-container" mat-raised-button
                      matTooltip="This section indicates the service fee amount that you will need to pay when filing a claim. You can edit the service fee amount by clicking to view more. Additional fees will apply."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <!-- <a><u>Edit</u></a> &nbsp;&nbsp; -->
                    <a><u>{{plansummary.plan6thpanelState ? 'Close' : 'View more'}}</u></a>
                  </div>
                </mat-panel-description>
                <hr>
              </mat-expansion-panel-header>
              <div class="stepacrdn">
                <div class="accorddata" *ngIf="plansummary.plan6thpanelState">
                  <ul>
                    <li>
                      <p><strong>SERVICE FEE</strong>
                        <span class="tooltip-container" mat-raised-button
                          matTooltip="This filed indicates the service fee amount that you will need to pay when filing a claim. You can edit the service fee amount using this field. Additional fees will apply."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span></p>
                      <select style="width: 19%;height: 22%;font-size: 9px;" [formControl]="serviceFee">
                        <option [value]="planDetail?.service_fee?.price_0"
                          [selected]="planDetail?.service_fee.price_0 === serviceFee?.value">$0 SERVICE FEE</option>
                        <option [value]="planDetail?.service_fee?.price_70"
                          [selected]="planDetail?.service_fee.price_70 === serviceFee?.value">$70 SERVICE FEE</option>
                        <option [value]="planDetail?.service_fee?.price_100"
                          [selected]="planDetail?.service_fee.price_100 === serviceFee?.value">$100 SERVICE FEE</option>
                        <option [value]="planDetail?.service_fee?.price_130"
                          [selected]="planDetail?.service_fee.price_130 === serviceFee?.value">$130 SERVICE FEE</option>
                      </select>
                    </li>
                    <li>
                      <p><strong>Total Cost</strong>
                        <span class="tooltip-container" mat-raised-button
                          matTooltip="This field only indicates any added cost or credit that was added to the plan with the service fee option you have selected."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span></p>
                      <span>${{serviceFee?.value}}</span>
                    </li>
                  </ul>
                </div>
              </div>
            </mat-expansion-panel>
            <div class="accorddata" *ngIf="!plansummary.plan6thpanelState">
              <ul>
                <li>
                  <p><strong>SERVICE FEE</strong>
                    <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span></p>
                  <span style="width: inherit;">
                    {{planDetail?.service_fee.price_0 === serviceFee?.value ? '$0 SERVICE FEE' 
                    : planDetail?.service_fee.price_70 === serviceFee?.value ? '$70 SERVICE FEE' :
                    planDetail?.service_fee.price_100 === serviceFee?.value ? '$100 SERVICE FEE' :
                    planDetail?.service_fee.price_130 === serviceFee?.value ? '$130 SERVICE FEE' : ''}}
                  </span>
                </li>
              </ul>
            </div>
          </mat-accordion>
        </div>
      </div>
    </div>
    <div class="elitetable">
      <div class="totalplancost">
        <div class="stepacrdn hassubaccrdin">
          <mat-accordion>
            <mat-expansion-panel (opened)="plansummary.plan7thpanelState = true"
              (closed)="plansummary.plan7thpanelState = false">
              <mat-expansion-panel-header style="border-bottom: 1px solid #333;">
                <mat-panel-title>
                  <h6>PLAN SUMMARY
                    <span class="tooltip-container" mat-raised-button
                      matTooltip="This section indicates the effective date and overall cost of the plan you have selected."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span>
                  </h6>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <!-- <a><u>Edit</u></a> &nbsp;&nbsp; -->
                    <a><u>{{plansummary.plan7thpanelState ? 'Close' : 'View more'}}</u></a>
                  </div>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="stepacrdn">
                <div class="accorddata" *ngIf="plansummary.plan7thpanelState">
                  <ul>
                    <li>
                      <p><strong>EFFECTIVE TERM</strong>
                        <span class="tooltip-container" mat-raised-button
                          matTooltip="This field indicate the effective date of the plan which clarify when the coverage became effective and when the coverage will expire. No claims can be filed prior to the effective date."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span></p>
                      <span style="width: inherit;">
                        {{currenDate+' '+ '-' +' '+ effectivedateendDate}}
                      </span>
                    </li>
                    <li>
                      <p><strong>COST OF THE PLAN</strong>
                        <span class="tooltip-container" mat-raised-button
                          matTooltip="This field indicates the overall cost of the plan you have selected including all of the additional coverage you have added."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span></p>
                      <span>
                        ${{(((transformtonumber(planDetail?.totalOptionalItemsCost + planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice + planDetail?.totalCategorycoverage + planDetail?.totaladdedCostForCoverage)) + (transformtonumber(serviceFee.value) ? (transformtonumber(serviceFee.value)) : 0))| number: '2.2')}}
                      </span>
                    </li>
                    <li *ngIf="planDetail?.state_data?.surcharge">
                      <p><strong>SURCHARGE</strong>
                        <span class="tooltip-container" mat-raised-button
                          matTooltip="This field indicates any administrative and processing fees added to the plan."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span></p>
                      <span>${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                        ,planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                        planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                        planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                        serviceFee.value).percentsurcharge | number: '2.2'}}</span>
                    </li>
                    <li *ngIf="planDetail?.state_data?.salex_tax">
                      <p><strong>SALES TAX</strong>
                        <span class="tooltip-container" mat-raised-button
                          matTooltip="This field indicates any sale tax fees added to the plan."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span></p>
                      <span>${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                        ,planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                        planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                        planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                        serviceFee.value).percentsalextax | number: '2.2'}}</span>
                    </li>
                    <li>
                      <p><strong>GRAND TOTAL</strong>
                        <span class="tooltip-container" mat-raised-button
                          matTooltip="This field indicates the grand total cost of the plan including any administrative, processing, and sales tax fees."
                          aria-label="Button that displays a tooltip when focused or hovered over">
                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                        </span></p>
                      <span>
                        ${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                        ,planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                        planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                        planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                        serviceFee.value).totalvalue | number: '2.2'}}
                      </span>
                    </li>
                  </ul>
                </div>
              </div>
            </mat-expansion-panel>
            <div class="accorddata" *ngIf="!plansummary.plan7thpanelState">
              <ul>
                <li>
                  <p><strong>EFFECTIVE TERM</strong>
                    <span class="tooltip-container" mat-raised-button
                      matTooltip="This field indicate the effective date of the plan which clarify when the coverage became effective and when the coverage will expire. No claims can be filed prior to the effective date."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span></p>
                  <span style="width: inherit;">
                    {{currenDate+' '+ '-' +' '+ effectivedateendDate}}
                  </span>
                </li>
                <li>
                  <p><strong>GRAND TOTAL</strong> <span mat-raised-button
                      matTooltip="This field indicates the grand total cost of the plan including any administrative, processing, and sales tax fees."
                      aria-label="Button that displays a tooltip when focused or hovered over">
                      <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                    </span></p>
                  <span>
                    ${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                      , planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                      planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                      planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                      serviceFee.value).totalvalue | number: '2.2'}}
                    <!-- | number: '2.2' -->
                  </span>
                </li>
              </ul>
            </div>
          </mat-accordion>
        </div>
      </div>
    </div>
    <div id="blankscroll"></div>
    <div id="dynamic__btn" class="row mt-5 btnsec a1">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 text-left pl-0 mt-5">
            <button class="linedbutton greenclr" (click)="back('stepEight', 'stepNine')"><span>Back</span></button>
          </div>
          <div class="col-sm-6 text-right pr-0 mt-5">
            <button class="linedbutton " (click)="continue('stepTen', 'stepNine', '')"><span>Continue</span></button>
          </div>
          <div class="col-sm-12 p-0">
            <div class="foottotal mt-5">
              <ul>
                <li>
                  <p>Plan: {{planDetail?.title}}</p>
                  <p> Total Cost:
                    ${{(((transformtonumber(planDetail?.totalOptionalItemsCost + planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice + planDetail?.totalCategorycoverage + planDetail?.totaladdedCostForCoverage)) + (transformtonumber(serviceFee.value) ? (transformtonumber(serviceFee.value)) : 0))| number: '2.2')}}
                    <!-- | number: '2.2' -->
                  </p>
                </li>
                <li>
                  <p>TOTAL COVERED ITEMS: {{planDetail?.totalCoveredUnit + planDetail?.totalAddedItems}}</p>
                  <p> Total Coverage:
                    ${{(planDetail?.optionalCoverage + planDetail?.coveragefee + planDetail?.totalAddedCoverage + (planDetail?.addCoverageAmount ? planDetail?.addCoverageAmount : 0)) | number: '2.2'}}
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- After plan selection 7th step Cover Another hOme or not-->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepTen">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class=" newpaymntsec">
      <div class="vrifycontent">
        <ng-container>
          <p class="mr-auto ">
            <small>Would you like to cover another home? </small>
          </p>
          <div class="row">
            <div class="col-sm-3">
              <div class="customradiobtn">
                <input type="radio" id="yes" value="yes" name="amount" [formControl]="coverAdditional" />
                <label for="yes" class="animate-cus ts-5">Yes</label>
              </div>
            </div>
            <div class="col-sm-3">
              <div class="customradiobtn">
                <input type="radio" id="no" value="no" name="amount" [formControl]="coverAdditional" />
                <label for="no" class="animate-cus ts-6">No</label>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <div id="dynamic__btn" class="row btnsec a1">
      <div class="col-sm-6 text-left pl-2 mt-5">
        <button class="linedbutton greenclr" (click)="back('stepNine', 'stepTen')"><span>Back</span></button>
      </div>
      <div class="col-sm-6 text-right pr-0 mt-5">
        <button class="linedbutton "
          (click)="continue('stepeleven', 'stepTen', 'coverAdditional')"><span>Continue</span></button>
      </div>
    </div>
  </div>
</div>

<!-- After plan selection 8th step adress for additional property-->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepeleven">
  <div class="rightcheckout w-90" style="width: auto;" *ngIf="coverAdditional.value === 'yes'">
    <div class="newpaymntsec">
      <div class="vrifycontent">
        <ng-container>
          <p class="mr-auto">
            <small>Please provide the address for each additional property.</small>
          </p>
          <!-- <div class="vrifycontent" *ngIf="!isAvailablemsg">
            <h3>Lets get your home covered</h3>
            <p>Elite Home Warranty provided home warranty plans that set a new standered of home
              warranties and
              boosts protection for what's important to today's homeowner.
            </p>
          </div> -->
          <form #form="ngForm" [formGroup]="addressForm">
            <div class="row w-70">
              <div class=" col-12 mb-4 custinpt custinptnew">
                <mat-form-field appearance="outline">
                  <mat-label>Please enter the street address</mat-label>
                  <input matInput #location formControlName="street_address" (keyup)="updatelocation('location')">
                  <mat-error
                    *ngIf="addressForm.controls.street_address.touched && addressForm.controls.street_address.hasError('required')">
                    This field is required.</mat-error>
                  <ng-container
                    *ngIf="addressForm.controls.street_address.touched && !addressForm.controls.street_address.hasError('required')">
                    <mat-error *ngIf="!addressSeldcted">
                      Please select any address from the list.
                    </mat-error>
                    <mat-error *ngIf="addressForm.controls.state.hasError('required') && addressSeldcted">
                      Address must contains any state.
                    </mat-error>
                    <mat-error *ngIf="addressForm.controls.city.hasError('required') && addressSeldcted">
                      Address must contains any city.
                    </mat-error>
                    <mat-error *ngIf="addressForm.controls.zipcode.hasError('required') && addressSeldcted">
                      Address must contains any zipcode.
                    </mat-error>
                  </ng-container>
                </mat-form-field>
              </div>

              <div class="col-8 mb-4 custinpt custinptnew">
                <mat-form-field appearance="outline">
                  <mat-label>Apartment or Unit number</mat-label>
                  <input matInput formControlName="apt">
                </mat-form-field>
              </div>

              <div class="col-4 mb-4 custinpt custinptnew">
                <mat-form-field appearance="outline">
                  <mat-label>Zip code</mat-label>
                  <input matInput formControlName="zipcode" readonly>
                </mat-form-field>
              </div>

              <div class="col-8 mb-4 custinpt custinptnew">
                <mat-form-field appearance="outline">
                  <mat-label>City</mat-label>
                  <input matInput formControlName="city" readonly>
                </mat-form-field>
              </div>

              <div class="col-4 mb-4 custinpt custinptnew">
                <mat-form-field appearance="outline">
                  <mat-label>State</mat-label>
                  <input matInput readonly formControlName="state">
                </mat-form-field>
              </div>
            </div>
          </form>
        </ng-container>
      </div>
    </div>

    <div id="dynamic__btn" class="row btnsec a1">
      <div class="col-sm-6 text-left pl-2 mt-5">
        <button class="linedbutton greenclr" (click)="back('stepTen', 'stepeleven')"><span>Back</span></button>
      </div>
      <div class="col-sm-6 text-right pr-0 mt-5">
        <button class="linedbutton "
          (click)="saveNewQuote('stepTwelve', 'stepeleven', 'addressForm')"><span>Continue</span></button>
      </div>
    </div>
  </div>
</div>
<!-- ------------------------------------------- Working ------------------------------------------- -->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepTwelve">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="newpaymntsec">
      <div class="vrifycontent">
        <p class="mr-auto">
          <small>What type of property are we covering?</small>
        </p>
        <div class="row w-70 justify-content-around">
          <div class="col-6" *ngFor="let item of propertyType">
            <div class="customradiobtn">
              <input type="radio" [id]="item?._id" name="amount" [value]="item" [formControl]="propertypewecover" />
              <label [for]="item?._id">{{item?.title}}</label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="dynamic__btn" class="row btnsec a1">
      <div class="col-sm-6 text-left pl-2 mt-5">
        <button class="linedbutton greenclr" (click)="back('stepeleven', 'stepTwelve')"><span>Back</span></button>
      </div>
      <div class="col-sm-6 text-right pr-0 mt-5">
        <button class="linedbutton" (click)="continueWithNewProperty()"><span>Continue</span></button>
      </div>
      <!-- (click)="continue('stepthirteen', 'stepTwelve', '')" -->
    </div>
    <!-- stepeleven -->
  </div>
</div>

<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepthirteen">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="newpaymntsec">
      <div class="vrifycontent">
        <ng-container>
          <p class="mr-auto">
            <small>What is the size of the property?</small>
          </p>
          <div class="row w-70 justify-content-around">

            <div class="col-sm-6" *ngFor="let item of propertySize">
              <div class="customradiobtn">
                <input type="radio" [id]="item?._id" name="amount" [value]="item" [formControl]="propertySizeweCover" />
                <label [for]="item?._id">{{item?.title}}</label>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <div id="dynamic__btn" class="row btnsec a1">
      <div class="col-sm-6 text-left pl-2 mt-5">
        <button class="linedbutton greenclr" (click)="back('stepTwelve', 'stepthirteen')"><span>Back</span></button>
      </div>
      <div class="col-sm-6 text-right pr-0 mt-5">
        <button class="linedbutton" (click)="ContineFromNewPropertyselection()"><span>Continue</span></button>
      </div>
    </div>
  </div>
</div>

<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepfourteen">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="newpaymntsec">
      <div class="vrifycontent">
        <ng-container>
          <p class="mr-auto">
            <small>Would you like to have the same plan and coverage as previously selected?
            </small>
          </p>
          <div class="row w-70">
            <div class="col-sm-12">
              <div class="customradiobtn">
                <input id="yes" name="amount" type="radio" value="yes" [formControl]="keepPlanSelectionSame"
                  ng-reflect-name="amount" class="ng-untouched ng-pristine ng-invalid">
                <label for="yes">Yes, keep it the same
                </label>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="customradiobtn"><input id="no" name="amount" type="radio"
                  [formControl]="keepPlanSelectionSame" value="no" ng-reflect-name="amount"
                  class="ng-untouched ng-pristine ng-invalid"><label for="no">
                  No, I would like select other options
                </label></div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <div id="dynamic__btn" class="row btnsec a1">
      <div class="col-sm-6 text-left pl-2 mt-5">
        <button class="linedbutton greenclr" (click)="back('stepthirteen', 'stepfourteen')"><span>Back</span></button>
        <!-- (click)="back('stepTen', 'stepeleven')" -->
      </div>
      <div class="col-sm-6 text-right pr-0 mt-5">
        <button class="linedbutton" (click)="continueWithnewPropertTypeAndSize()"><span>Continue</span></button>
        <!-- (click)="continue('stepTwelve', 'stepeleven', '')" -->
      </div>
    </div>
  </div>
</div>

<!-- Payment section -->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepsevenTeen">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="row w-70 mr-auto">
      <div class="col-sm-12 vrifycontent">
        <h4 class=" mr-auto pt-4 mb-2">Please add your payment details below.</h4>
        <p class="  mr-auto ">
          <small>
            Select your payment method from the following options
          </small>
        </p>
      </div>
      <div class="col-sm-12">
        <div class="matsectionradio">
          <div class="selected__payment__option" *ngIf="paymentType.value">
            <p *ngIf="!paymentType.value || paymentType.value === '1'">Credit/Debit Card</p>
            <p *ngIf="!paymentType.value || paymentType.value === '3'">Paypal</p>
            <p *ngIf="!paymentType.value || paymentType.value === '4'">Proforma Invoice</p>
            <button class="linedbutton greenclr" (click)="paymentType.reset()"><span>Change payment
                option</span></button>
          </div>

          <mat-radio-group aria-label="Select an option" [formControl]='paymentType' *ngIf="!paymentType.value">
            <mat-radio-button value="1">Credit/Debit Card
            </mat-radio-button>
            <!-- <mat-radio-button *ngIf="paymentType.value && paymentType.value === '2'" value="2">Checking Account</mat-radio-button> -->
            <mat-radio-button value="3">Paypal
            </mat-radio-button>
            <mat-radio-button value="4">Proforma Invoice
            </mat-radio-button>
          </mat-radio-group>
        </div>
      </div>

      <ng-container *ngIf="paymentType.value === '1'">
        <form id="card-form" [formGroup]="cardDetail" class="w-100">
          <div class="col-sm-12">
            <div class="cardhead">
              <h4>Card Details <img src="assets/images/cards.jpg" height="40" class="float-right" /></h4>
            </div>
          </div>

          <div class="col-sm-12 mb-4 custinpt">
            <input type="text" placeholder="Name on card" formControlName="name_on_card">
            <mat-error
              *ngIf="cardDetail?.controls?.name_on_card.touched && cardDetail?.controls?.name_on_card.hasError('required')">
              This field is required.
            </mat-error>
          </div>

          <div class="col-sm-12 mb-4 custinpt">
            <input type="text" placeholder="Card Number" mask="0000 0000 0000 0000" formControlName="card_number">
            <mat-error
              *ngIf="cardDetail?.controls?.card_number.touched && cardDetail?.controls?.card_number.hasError('required')">
              This field is required.
            </mat-error>
          </div>
          <div class="col-4 mb-4 custinpt float-left">
            <input type="text" placeholder="MM/YY" mask="00 / 00" formControlName="card_exp"
              (input)="checkExpiryforcard(cardDetail?.controls.card_exp)" style="width: 100%;">
            <mat-error
              *ngIf="cardDetail?.controls?.card_exp.touched && cardDetail.controls.card_exp.hasError('required')">
              This field is required.
            </mat-error>
            <mat-error *ngIf="cardDetail.controls.card_exp.touched
            && cardDetail.controls.card_exp.hasError('Mask error')
            || cardDetail.controls.card_exp.hasError('inValid')">
              Invalid expiry date
            </mat-error>
          </div>

          <div class="col-4 mb-4 custinpt float-left">
            <input type="password" placeholder="CVC/CVV" mask="0*" formControlName="cvv">
            <mat-error *ngIf="cardDetail.controls.cvv.touched && cardDetail?.controls.cvv.hasError('required')">
              This field is required.
            </mat-error>
          </div>

          <!-- <ng-container>
            <div class="col-sm-12 mb-4 custinpt d-none" id="card-number"></div>
            <div class="col-sm-12 mb-4 custinpt d-none" id="expiration-date"></div>
            <div class="col-sm-12 mb-4 custinpt d-none" id="cvv"></div>
          </ng-container> -->
          <ng-container>
            <div class="col-sm-12 d-none">
              <div class="cardhead">
                <h4>Billing Address</h4>
              </div>
            </div>
            <div class="col-sm-12 mb-4 custinpt d-none">
              <input type="text" id="card-billing-address-street" placeholder="Address">
            </div>

            <div class="col-sm-12 mb-4 custinpt d-none">
              <input type="text" id="card-billing-address-unit" placeholder="Unit">
            </div>

            <div class="col-sm-12 mb-4 custinpt d-none">
              <input type="text" id="card-billing-address-city" placeholder="City">
            </div>

            <div class="col-sm-12 mb-4 custinpt d-none">
              <input type="text" id="card-billing-address-state" placeholder="State">
            </div>

            <div class="col-sm-12 mb-4 custinpt d-none">
              <input type="text" id="card-billing-address-zip" placeholder="Zip">
            </div>
          </ng-container>
          <div style="clear: both;"></div>
          <div class="col-sm-12 mb-4">
            <button class="linedbutton" (click)="saveCarddetail()"><span>SAVE</span></button>
          </div>
          <div id="paypal-button-container" style="cursor:pointer">
          </div>
        </form>

      </ng-container>

      <ng-container *ngIf="paymentType.value === '2'">
        <form [formGroup]="accountDetail" class="w-100">
          <div class="col-sm-12">
            <div class="cardhead">
              <h4>Checking Account </h4>
            </div>
          </div>

          <div class="col-sm-12 mb-4 custinpt">
            <input type="text" placeholder="Account name" formControlName="account_name">
            <mat-error
              *ngIf="accountDetail?.controls?.account_name.touched && accountDetail?.controls?.account_name.hasError('required')">
              This field is required.
            </mat-error>
          </div>

          <div class="col-sm-12 mb-4 custinpt">
            <input type="text" mask="0*" placeholder="Routing Number" formControlName="routing_number">
            <mat-error
              *ngIf="accountDetail?.controls?.routing_number.touched && accountDetail?.controls?.routing_number.hasError('required')">
              This field is required.
            </mat-error>
          </div>

          <div class="col-sm-12 mb-4 custinpt">
            <input type="text" mask="0*" placeholder="Account Number" formControlName="account_number"
              (input)="matchPassword(accountDetail?.controls?.account_number, accountDetail?.controls?.verify_number)">
            <mat-error
              *ngIf="accountDetail?.controls?.account_number.touched && accountDetail?.controls?.account_number.hasError('required')">
              This field is required.
            </mat-error>
          </div>

          <div class="col-sm-12 mb-4 custinpt">
            <input type="text" mask="0*" placeholder="Verify Account Number" formControlName="verify_number"
              (input)="matchPassword(accountDetail?.controls?.account_number, accountDetail?.controls?.verify_number)">
            <mat-error
              *ngIf="accountDetail?.controls?.verify_number.touched && accountDetail?.controls?.verify_number.hasError('required')">
              This field is required.
            </mat-error>
            <mat-error
              *ngIf="accountDetail.controls.verify_number.dirty && accountDetail.controls.verify_number.hasError('noMatch')">
              Account Number is not matched.
            </mat-error>
          </div>
        </form>

        <div class="col-sm-12 mb-4">
          <button class="linedbutton" (click)="saveAccountdetail()"><span>SAVE</span></button>
        </div>
      </ng-container>
    </div>
    <div id="dynamic__btn" class="row btnsec a1">
      <div class="col-sm-6 text-left pl-2 mt-5">
        <button class="linedbutton greenclr"><span>Back</span></button>
      </div>
      <div class="col-sm-6 text-right pr-0 mt-5">
        <button class="linedbutton "
          (click)="continue('stepfiveTeen', 'stepsevenTeen', '')"><span>Continue</span></button>
      </div>
    </div>
  </div>
</div>


<!-- Order review -->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepfiveTeen">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="row w-70 mr-auto">
      <div class="col-sm-12 vrifycontent">
        <h4 class="mr-auto pt-4 mb-2">Please review and confirm your order</h4>
        <p class="mr-auto">
        </p>
      </div>
      <div class="col-sm-12">
      </div>
      <div class="stepacrdn reviewstep w-100">
        <div class="bordercover">
          <mat-accordion *ngFor="let plan of mulitplePlanArray; let i = index">
            <mat-expansion-panel style="border: none;">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h6> Covered property address </h6>
                  <span style="font-size: 12px;">{{plan?.first_name +' '+plan?.last_name}}</span>
                  <span style="font-size: 12px;">{{plan?.step4?.streetAddress}} </span>
                  <span style="font-size: 12px;">{{plan?.step4?.city}} {{plan?.step4?.state}}
                    {{plan?.step4?.zip_code}}</span>
                </mat-panel-title>
                <mat-panel-description>
                  <div class="text-right w-100">
                    <a><u>View Details</u></a>
                  </div>
                </mat-panel-description>
                <div class="grandtotal d-flex justify-content-between">
                  <h6>Grand Total</h6>
                  <h6>${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                      ,planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                      planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                      planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                      serviceFee.value).totalvalue | number: '2.2'}}</h6>
                </div>
              </mat-expansion-panel-header>
              <div class="elitetable">
                <div class="totalplancost">
                  <div class="stepacrdn">
                    <h4 class="mt-3">SELECTED PLAN
                      <span class="tooltip-container" mat-raised-button
                        matTooltip="This field indicates the type of the plan you have selected. Please click to view more in order to see the list of items the plan covers."
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                      </span>
                    </h4>
                    <hr>
                    <mat-accordion>
                      <mat-expansion-panel (opened)="plan.plan1stpanelState = true"
                        (closed)="plan.plan1stpanelState = false">
                        <mat-expansion-panel-header class="bgtblegreen" style="margin: 0 24px;">
                          <div class=" w-100">
                            <mat-panel-title>
                              <h6 style="text-transform: uppercase; text-align: center; width: 100%;">
                                {{planDetail?.title}}</h6>
                              <div class="text-right position-absolute rightgreenbtn">
                                <a><u>{{plan.plan1stpanelState ? 'Close' : 'View more'}}</u></a>
                              </div>
                            </mat-panel-title>

                          </div>
                        </mat-expansion-panel-header>
                        <div class="stepacrdn hassubaccrdin" *ngIf="plan?.isShowappliance">
                          <div class="bgtblegry">
                            <h4>APPLIANCES</h4>
                          </div>
                          <mat-accordion multi>
                            <ng-container
                              *ngFor="let item of planDetail?.itemList[0]?.info?.covered_item_list; let i = index">
                              <mat-expansion-panel *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'appliance'"
                                (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
                                <mat-expansion-panel-header>
                                  <mat-panel-title>
                                    <h6>
                                      <!-- matTooltip="Info about the action" [matTooltipPosition]="'right'" -->
                                      {{item?.covered_item_id?.title}}[{{item?.coveredunit}}]
                                      <span class="tooltip-container" mat-raised-button
                                        matTooltip="The plan you have selected covers a total of {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}, whichever one breaks down first. Click to view more to see the full coverage details."
                                        aria-label="Button that displays a tooltip when focused or hovered over">
                                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                      </span>
                                    </h6>
                                  </mat-panel-title>
                                  <mat-panel-description>
                                    <div class="text-right w-100">
                                      <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                                    </div>
                                  </mat-panel-description>
                                </mat-expansion-panel-header>
                                <div class="accorddata">
                                  <ul>
                                    <li>
                                      <p><strong>Number of covered units</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} that are covered with the plan."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>{{item?.coveredunit}}</span>
                                    </li>
                                    <li>
                                      <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12-month term."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>${{item?.covrageValue}}</span>
                                    </li>
                                    <!-- <li>
                                        <p><strong>Add Additional unit</strong>
                                          <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <div>
                                          <div class="qntity">
                                            <div class="qnbtncont">
                                              <button (click)="addremoveitem(item, 'dec')">
                                                <img src="assets/images/minus.png" alt="" width="28" />
                                              </button>
                                              <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue" readonly>
                                              <button (click)="addremoveitem(item, 'inc')">
                                                <img src="assets/images/plus.png" alt="" width="28" />
                                              </button>
                                            </div>
                                          </div>
                                        </div>
                                      </li> -->
                                    <!-- <li>
                                        <p><strong>Cost of each additional unit</strong>
                                          <span class="tooltip-container" mat-raised-button matTooltip="This field indicates the total number of {{item?.covered_item_id?.title}} units after adding any additional units to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span> ${{item?.price}}</span>
                                      </li> -->
                                    <hr>
                                    <li>
                                      <p><strong>Total Number of covered units</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} units after adding any additional units to the plan."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        {{item.coveredunit}}
                                      </span>
                                    </li>
                                    <!-- <li>
                                        <p><strong>Total Added Cost</strong>
                                          <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span> ${{item.addedcosttotal}}</span>
                                      </li> -->
                                  </ul>
                                </div>
                              </mat-expansion-panel>
                            </ng-container>
                          </mat-accordion>
                        </div>

                        <div class="stepacrdn hassubaccrdin" *ngIf="plan?.isShowsystem">
                          <div class="bgtblegry">
                            <h4>Systems</h4>
                          </div>
                          <mat-accordion multi>
                            <ng-container *ngFor="let item of planDetail?.itemList[0].info?.covered_item_list">
                              <mat-expansion-panel *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'system'"
                                (opened)="item.ispanelOpen = true" (closed)="item.ispanelOpen = false">
                                <mat-expansion-panel-header>
                                  <mat-panel-title>
                                    <h6>
                                      {{item?.covered_item_id?.title}}[{{item?.coveredunit}}]
                                      <span class="tooltip-container" mat-raised-button
                                        matTooltip="The plan you have selected covers a total of {{item?.coveredunit}} {{item?.covered_item_id?.title.toLowerCase()}}, whichever one breaks down first. Click to view more to see the full coverage details."
                                        aria-label="Button that displays a tooltip when focused or hovered over">
                                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                      </span>
                                    </h6>
                                  </mat-panel-title>
                                  <mat-panel-description>
                                    <div class="text-right w-100">
                                      <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                                    </div>
                                  </mat-panel-description>
                                </mat-expansion-panel-header>
                                <div class="accorddata">
                                  <ul>
                                    <li>
                                      <p><strong>Number of covered unit</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} that are covered with the plan."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>{{item.coveredunit}}</span>
                                    </li>
                                    <li>
                                      <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12-month term."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>${{item?.covrageValue}}</span>
                                    </li>
                                    <!-- <li>
                                        <p><strong>Add Additional unit</strong>
                                          <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <div>
                                          <div class="qntity">
                                            <div class="qnbtncont">
                                              <button (click)="addremoveitem(item, 'dec')">
                                                <img src="assets/images/minus.png" alt="" width="28" />
                                              </button>
                                              <input type="text" appNumbersOnly [value]="item.additionalunitdefaultvalue" readonly>
                                              <button (click)="addremoveitem(item, 'inc')">
                                                <img src="assets/images/plus.png" alt="" width="28" />
                                              </button>
                                            </div>
                                          </div>
                                        </div>
                                      </li> -->
                                    <!-- <li>
                                        <p><strong>Cost of each additional unit</strong>
                                          <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span>${{item?.price}}</span>
                                      </li> -->
                                    <hr>
                                    <li>
                                      <p><strong>Total Number of covered units</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total number of {{item?.covered_item_id?.title.toLowerCase()}} units after adding any additional units to the plan."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        {{item.coveredunit}}
                                      </span>
                                    </li>

                                    <!-- <li>
                                        <p><strong>Total Added Cost</strong>
                                          <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span> ${{item.addedcosttotal}}</span>
                                      </li> -->
                                  </ul>
                                </div>
                              </mat-expansion-panel>
                            </ng-container>
                          </mat-accordion>
                        </div>

                      </mat-expansion-panel>
                    </mat-accordion>
                    <div class="accorddata p-3">
                      <ul>
                        <li>
                          <p><strong>Number of covered Items</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field indicates the total number of combined items and units that are covered with the plan including any additional units that you have added to the plan."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>
                            {{plan?.totalCoveredUnit}}
                          </span>
                        </li>
                        <li>
                          <p><strong>Total Cost</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field only indicates the total standard cost of the plan you have selected prior to adding the cost of any additional coverage that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span *ngIf="plan?.itemList">${{(plan?.itemList[0]?.info?.cost_per_plan)}}</span>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="elitetable">
                <div class="totalplancost">
                  <div class="stepacrdn hassubaccrdin">
                    <mat-accordion>
                      <mat-expansion-panel (opened)="plan.plan2ndpanelState = true"
                        (closed)="plan.plan2ndpanelState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <h6>COST OF ADDED UNITS
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This section indicates the additional units that you have added to the plan. You can add additional units by clicking to view more. Additional fees will apply."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span>
                            </h6>
                          </mat-panel-title>
                          <mat-panel-description>
                            <div class="text-right w-100">
                              <!-- <a (click)="back('stepFour','stepNine')"><u>Edit</u></a> &nbsp;&nbsp; -->
                              <a><u>{{plan.plan2ndpanelState ? 'Close' : 'View more'}}</u></a>
                            </div>
                          </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="stepacrdn">
                          <div class="bgtblegreen">
                            <h4>Items</h4>
                          </div>
                          <div class="bgtblegry">
                            <h4>APPLIANCES</h4>
                          </div>
                          <mat-accordion multi>
                            <ng-container
                              *ngFor="let item of planDetail?.itemList[0]?.info?.covered_item_list; let i = index">
                              <ng-container>
                                <mat-expansion-panel (opened)="item.ispanelOpen = true"
                                  (closed)="item.ispanelOpen = false"
                                  *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'appliance'">
                                  <mat-expansion-panel-header>
                                    <mat-panel-title>
                                      <h6>{{item?.covered_item_id?.title}}[{{item?.additionalunitdefaultvalue}}]
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan. You can add additional units by clicking to view more. Additional fees will apply."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span>
                                      </h6>
                                    </mat-panel-title>
                                    <mat-panel-description>
                                      <div class="text-right w-100">
                                        <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                                      </div>
                                    </mat-panel-description>
                                  </mat-expansion-panel-header>
                                  <div class="accorddata">
                                    <ul>
                                      <li>
                                        <p><strong>Number of covered units</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the number of additional {{item?.covered_item_id?.title.toLowerCase()}} that you have added to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span>{{item?.coveredunit}}</span>
                                      </li>
                                      <li>
                                        <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12-month term."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span>${{item?.covrageValue}}</span>
                                      </li>
                                      <li>
                                        <p><strong>Add Additional units</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="Using this field you can add additional {{item?.covered_item_id?.title.toLowerCase()}} units to the plan. Additional fees will apply."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <div>
                                          <div class="qntity">
                                            <div class="qnbtncont">
                                              <button (click)="addremoveitem(item, 'dec')">
                                                <img src="assets/images/minus.png" alt="" width="28" />
                                              </button>
                                              <input type="text" appNumbersOnly
                                                [value]="item.additionalunitdefaultvalue" readonly>
                                              <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                                              <button (click)="addremoveitem(item, 'inc')">
                                                <img src="assets/images/plus.png" alt="" width="28" />
                                              </button>
                                            </div>
                                          </div>
                                        </div>
                                      </li>
                                      <li>
                                        <p><strong>Cost of each additional unit</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the cost of each additional {{item?.covered_item_id?.title.toLowerCase()}} unit that can be added to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span> ${{item?.price}}</span>
                                      </li>
                                      <hr>
                                      <li>
                                        <p><strong>Total Number of covered units</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the total number of the additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span>
                                          {{item?.additionalunitdefaultvalue + item.coveredunit}}
                                        </span>
                                      </li>
                                      <li>
                                        <p><strong>Total Added Cost</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the total added fees for any additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span> ${{item.addedcosttotal}}</span>
                                      </li>
                                    </ul>
                                  </div>
                                </mat-expansion-panel>
                              </ng-container>
                            </ng-container>
                          </mat-accordion>
                        </div>
                        <div class="stepacrdn">
                          <div class="bgtblegry">
                            <h4>SYSTEMS</h4>
                          </div>
                          <mat-accordion multi>
                            <ng-container
                              *ngFor="let item of planDetail?.itemList[0]?.info?.covered_item_list; let i = index">
                              <ng-container>
                                <mat-expansion-panel (opened)="item.ispanelOpen = true"
                                  (closed)="item.ispanelOpen = false"
                                  *ngIf="(item?.covered_item_id?.type).toLowerCase() === 'system'">
                                  <mat-expansion-panel-header>
                                    <mat-panel-title>
                                      <h6>{{item?.covered_item_id?.title}}[{{item?.additionalunitdefaultvalue}}]
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan. You can add additional units by clicking to view more. Additional fees will apply."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span>
                                      </h6>
                                    </mat-panel-title>
                                    <mat-panel-description>
                                      <div class="text-right w-100">
                                        <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                                      </div>
                                    </mat-panel-description>
                                  </mat-expansion-panel-header>
                                  <div class="accorddata">
                                    <ul>
                                      <li>
                                        <p><strong>Number of covered unit</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the number of additional {{item?.covered_item_id?.title.toLowerCase()}} that you have added to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span>{{item?.coveredunit}}</span>
                                      </li>
                                      <li>
                                        <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item_id?.title.toLowerCase()}} during the 12-month term."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span>${{item?.covrageValue}}</span>
                                      </li>
                                      <li>
                                        <p><strong>Add Additional unit</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="Using this field you can add additional {{item?.covered_item_id?.title.toLowerCase()}} units to the plan. Additional fees will apply."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <div>
                                          <div class="qntity">
                                            <div class="qnbtncont">
                                              <button (click)="addremoveitem(item, 'dec')">
                                                <img src="assets/images/minus.png" alt="" width="28" />
                                              </button>
                                              <input type="text" appNumbersOnly
                                                [value]="item.additionalunitdefaultvalue" readonly>
                                              <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                                              <button (click)="addremoveitem(item, 'inc')">
                                                <img src="assets/images/plus.png" alt="" width="28" />
                                              </button>
                                            </div>
                                          </div>
                                        </div>
                                      </li>
                                      <li>
                                        <p><strong>Cost of each additional unit</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the cost of each additional {{item?.covered_item_id?.title.toLowerCase()}} unit that can be added to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span> ${{item?.price}}</span>
                                      </li>
                                      <hr>
                                      <li>
                                        <p><strong>Total Number of covered units</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the total number of the additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span>
                                          {{item?.additionalunitdefaultvalue + item.coveredunit}}
                                        </span>
                                      </li>
                                      <li>
                                        <p><strong>Total Added Cost</strong>
                                          <span class="tooltip-container" mat-raised-button
                                            matTooltip="This field indicates the total added fees for any additional {{item?.covered_item_id?.title.toLowerCase()}} units that you have added to the plan."
                                            aria-label="Button that displays a tooltip when focused or hovered over">
                                            <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                          </span></p>
                                        <span> ${{item.addedcosttotal}}</span>
                                      </li>
                                    </ul>
                                  </div>
                                </mat-expansion-panel>
                              </ng-container>

                            </ng-container>
                          </mat-accordion>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion>
                    <div class="accorddata p-3">
                      <ul>
                        <li>
                          <p><strong>TOTAL NUMBER OF COVERED UNITS</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field indicates the total number of combined additional items and units that you have added to the plan."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span> {{planDetail?.totalAddedItems}}</span>
                        </li>
                        <li>
                          <p><strong>Total Cost</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field only indicates the total cost of any additional units that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>${{(planDetail?.totaladdedprice)}}</span>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="elitetable">
                <div class="totalplancost">
                  <div class="stepacrdn hassubaccrdin">
                    <mat-accordion>
                      <mat-expansion-panel (opened)="plansummary.plan3rdpanelState = true"
                        (closed)="plansummary.plan3rdpanelState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <h6>COST OF ADDED OPTIONAL ITEMS
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This section indicates the additional optional items that you have added to the plan. You can add additional units by clicking to view more. Additional fees will apply."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span>
                            </h6>
                          </mat-panel-title>
                          <mat-panel-description>
                            <div class="text-right w-100">
                              <!-- <a><u>Edit</u></a>&nbsp;&nbsp; -->
                              <a><u>{{plansummary.plan3rdpanelState ? 'Close' : 'View more'}}</u></a>
                            </div>
                          </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="stepacrdn">
                          <div class="bgtblegreen">
                            <h4>Items</h4>
                          </div>
                          <mat-accordion multi>
                            <ng-container *ngFor="let item of planDetail?.optionalItemcoverageCategory">
                              <mat-expansion-panel (opened)="item.ispanelOpen = true"
                                (closed)="item.ispanelOpen = false">
                                <mat-expansion-panel-header>
                                  <mat-panel-title>
                                    <h6>{{item?.covered_item[0]?.title}}
                                      <span class="tooltip-container" mat-raised-button
                                        matTooltip="You have added {{item.additionalunitdefaultvalue}} {{item?.covered_item[0]?.title.toLowerCase()}} to the plan. You can edit by clicking to view more."
                                        aria-label="Button that displays a tooltip when focused or hovered over">
                                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                      </span>
                                    </h6>
                                  </mat-panel-title>
                                  <mat-panel-description>
                                    <div class="text-right w-100">
                                      <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                                    </div>
                                  </mat-panel-description>
                                </mat-expansion-panel-header>
                                <div class="accorddata">
                                  <ul>
                                    <li>
                                      <p><strong>Number of covered units</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total number of {{item?.covered_item[0]?.title.toLowerCase()}} that are covered with the plan."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>{{item.coveredunit}}</span>
                                    </li>
                                    <li>
                                      <p><strong>MAXIMUM COVERAGE PER UNIT</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{item?.covered_item[0]?.title.toLowerCase()}} during the 12-month term."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>${{item?.covrageValue}}</span>
                                    </li>
                                    <li>
                                      <p><strong>Add Additional units</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="Using this field you can adjust the number of {{item?.covered_item[0]?.title.toLowerCase()}} units that the plan will cover. Additional fees will apply."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <div>
                                        <div class="qntity">
                                          <div class="qnbtncont">
                                            <div class="qnbtncont">
                                              <button (click)="addremoveOptionalitems(item, 'dec')">
                                                <img src="assets/images/minus.png" alt="" width="28" />
                                              </button>
                                              <input type="text" appNumbersOnly
                                                [value]="item.additionalunitdefaultvalue" readonly>
                                              <!-- (keyup)="onChangeEventforQty(item, $event);" -->
                                              <button (click)="addremoveOptionalitems(item, 'inc')">
                                                <img src="assets/images/plus.png" alt="" width="28" />
                                              </button>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </li>
                                    <li>
                                      <p><strong>Cost of each additional unit</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the cost of each {{item?.covered_item[0]?.title.toLowerCase()}} unit that can be added to the plan."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span> ${{item?.quantity}}</span>
                                    </li>
                                    <hr>
                                    <li>
                                      <p><strong>Total Number of covered units</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total number of {{item?.covered_item[0]?.title.toLowerCase()}} units after adding any additional units to the plan."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        {{item?.additionalunitdefaultvalue + item.coveredunit}}
                                      </span>
                                    </li>
                                    <li>
                                      <p><strong>Total Added Cost</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total added fees for any additional {{item?.covered_item[0]?.title.toLowerCase()}} units that you have added to the plan."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span> ${{item.addedcosttotal}}</span>
                                    </li>
                                  </ul>
                                </div>
                              </mat-expansion-panel>
                            </ng-container>
                          </mat-accordion>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion>
                    <div class="accorddata p-3">
                      <ul>
                        <li>
                          <p><strong>NUMBER OF ADDED OPTIONAL ITEMS</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field indicates the total number of combined optional items and units that you have added to the plan."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>{{planDetail?.totalOptionalItems}}</span>
                        </li>

                        <li>
                          <p><strong>TOTAL COST</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field only indicates the total cost of optional items that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>${{planDetail?.totalOptionalItemsCost}}</span>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="elitetable">
                <div class="totalplancost">
                  <div class="stepacrdn hassubaccrdin">
                    <mat-accordion>
                      <mat-expansion-panel (opened)="plansummary.plan4thpanelState = true"
                        (closed)="plansummary.plan4thpanelState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <h6>COST OF ADDED COVERAGE AMOUNT
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This section indicates the additional coverage amount that you have added to any covered items. You can edit the coverage amount by clicking to view more. Additional fees will apply."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span>
                            </h6>
                          </mat-panel-title>
                          <mat-panel-description>
                            <div class="text-right w-100">
                              <!-- <a><u>Edit</u></a> &nbsp;&nbsp; -->
                              <a><u>{{plansummary.plan4thpanelState ? 'Close' : 'View more'}}</u></a>
                            </div>
                          </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="stepacrdn">
                          <div class="bgtblegreen">
                            <h4>Items</h4>
                          </div>
                          <mat-accordion multi>
                            <ng-container *ngFor="let addedcoverageList of planDetail?.coverageAddedItemList">
                              <mat-expansion-panel (opened)="addedcoverageList.ispanelOpen = true"
                                (closed)="addedcoverageList.ispanelOpen = false">
                                <mat-expansion-panel-header>
                                  <mat-panel-title>
                                    <h6>
                                      {{(addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title : addedcoverageList?.covered_item[0]?.title) + (addedcoverageList?.count ? '*' + addedcoverageList?.count : '')}}
                                      <span class="tooltip-container" mat-raised-button
                                        matTooltip="This field indicates the additional coverage amount that you have added to the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}. You can edit the coverage amount by clicking to view more. Additional fees will apply."
                                        aria-label="Button that displays a tooltip when focused or hovered over">
                                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                      </span>
                                    </h6>
                                  </mat-panel-title>
                                  <mat-panel-description>
                                    <div class="text-right w-100">
                                      <a><u>{{addedcoverageList?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                                    </div>
                                  </mat-panel-description>
                                </mat-expansion-panel-header>
                                <div class="accorddata">
                                  <ul>
                                    <li>
                                      <p><strong>MAXIMUM COVERAGE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the standard maximum coverage amount that the plan will cover on each covered {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}} unit."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>{{addedcoverageList?.covrageValue}}</span>
                                    </li>
                                    <li>
                                      <p><strong>INCREASE COVERAGE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the additional coverage amount that you have added to the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}. Using this field, you can edit the maximum coverage amount that the plan will cover on each covered {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title : addedcoverageList?.covered_item[0]?.title}} unit. Additional fees will apply, please see increase fee field below for more details."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <div>
                                        <div class="qntity">
                                          <div class="qnbtncont">
                                            <button (click)="incrementCovrage(addedcoverageList, 'dec')">
                                              <img src="assets/images/minus.png" alt="" width="28" />
                                            </button>
                                            <input type="text" appNumbersOnly
                                              [value]="addedcoverageList?.defaultCoverage"
                                              (keyup)="onTypeCoverageValue(addedcoverageList, $event)">
                                            <button (click)="incrementCovrage(addedcoverageList, 'inc')">
                                              <img src="assets/images/plus.png" alt="" width="28" />
                                            </button>
                                          </div>
                                        </div>
                                      </div>
                                    </li>
                                    <li>
                                      <p *ngIf="addedcoverageList?.defaultCoverage >= 0"><strong>INCREASE FEE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the increase fee when increasing the coverage amount for a {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}. The fee is a percentage of the total added coverage amount."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <p *ngIf="addedcoverageList?.defaultCoverage < 0"><strong>DECREASE FEE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the decrease fee when decreasing the coverage amount for a {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}. The fee is a percentage of the total removed coverage amount."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span
                                        *ngIf="addedcoverageList?.defaultCoverage >= 0">{{addedcoverageList?.covered_item_id?.maximum_coverage_increase_fee}}%</span>
                                      <span
                                        *ngIf="addedcoverageList?.defaultCoverage < 0">{{addedcoverageList?.covered_item_id?.maximum_coverage_decrease_fee}}%</span>
                                    </li>
                                    <li>
                                      <p><strong>COST OF INCREASE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total cost of the coverage amount you have added to the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        ${{(addedcoverageList.defaultCoverage * addedcoverageList?.covered_item_id?.maximum_coverage_increase_fee) / 100}}</span>
                                    </li>
                                    <hr>
                                    <li>
                                      <p><strong>TOTAL ADDED COVERAGE AMOUNT</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total amount of the additional coverage amount that you have added the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}}."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        {{addedcoverageList.defaultCoverage}}
                                      </span>
                                    </li>
                                    <li>
                                      <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the maximum coverage amount that the plan will cover on each covered {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}} unit during a 12-month term including the additional coverage amount that you have added."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        {{addedcoverageList.covrageValue + addedcoverageList.defaultCoverage}}
                                      </span>
                                    </li>
                                    <li>
                                      <p><strong>Total Added Cost</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total added cost for the combined maximum coverage amount that you have added to the {{addedcoverageList?.covered_item_id?.title ? addedcoverageList?.covered_item_id?.title.toLowerCase() : addedcoverageList?.covered_item[0]?.title.toLowerCase()}} unit."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>${{(addedcoverageList.defaultCoverage * addedcoverageList?.covered_item_id?.maximum_coverage_increase_fee) / 100}}</span>
                                    </li>
                                  </ul>
                                </div>
                              </mat-expansion-panel>
                            </ng-container>
                          </mat-accordion>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion>
                    <div class="accorddata p-3">
                      <ul>
                        <li>
                          <p><strong>TOTAL ADDED COVERAGE AMOUNT</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field indicates the total combined coverage amount that you have added to the plan."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>${{planDetail?.totalitemCoverage}}</span>
                        </li>

                        <li>
                          <p><strong>Total Cost</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field indicates the total cost for all of the additional maximum coverage that you have added to the plan. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>${{planDetail?.totaladdedCostForCoverage}}</span>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="elitetable">
                <div class="totalplancost">
                  <div class="stepacrdn hassubaccrdin">
                    <mat-accordion>
                      <mat-expansion-panel (opened)="plansummary.plan5thpanelState = true"
                        (closed)="plansummary.plan5thpanelState = false">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <h6>COST OF ADDED CATEGORY COVERAGE AMOUNT
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This section indicates the additional coverage amount that you have added to any covered category. You can edit the coverage amount by clicking to view more. Additional fees will apply."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span>
                            </h6>
                          </mat-panel-title>
                          <mat-panel-description>
                            <div class="text-right w-100">
                              <!-- <a><u>Edit</u></a> &nbsp;&nbsp; -->
                              <a><u>{{plansummary.plan5thpanelState? 'Close' : 'View more'}}</u></a>
                            </div>
                          </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="stepacrdn">
                          <div class="bgtblegreen">
                            <h4>Items</h4>
                          </div>
                          <mat-accordion multi>
                            <ng-container *ngFor="let item of planDetail?.category_covered_item; let i = index">
                              <mat-expansion-panel (opened)="item.ispanelOpen = true"
                                (closed)="item.ispanelOpen = false">
                                <mat-expansion-panel-header>
                                  <mat-panel-title>
                                    <h6>{{item?.category[0]?.name}}
                                      <span class="tooltip-container" mat-raised-button
                                        matTooltip="This field indicates the additional coverage amount that you have added to the {{item?.category[0]?.name}}. You can edit the coverage amount by clicking to view more. Additional fees will apply."
                                        aria-label="Button that displays a tooltip when focused or hovered over">
                                        <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                      </span>
                                    </h6>
                                  </mat-panel-title>
                                  <mat-panel-description>
                                    <div class="text-right w-100">
                                      <a><u>{{item?.ispanelOpen ? 'Close' : 'View More'}}</u></a>
                                    </div>
                                  </mat-panel-description>
                                </mat-expansion-panel-header>
                                <div class="accorddata">
                                  <ul>
                                    <li>
                                      <p><strong>MAXIMUM CATEGORY COVERAGE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the standard total aggregated coverage amount that the plan will provide for all items listed under the {{item?.category[0]?.name}} category during the 12- month term."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>{{item.category[0].name.toLowerCase().includes('systems') ? totalsystemCategorycoverage(item) : item.category[0].name.toLowerCase().includes('optional') ? totaloptionalCategorycoverage(item) : totalappliacesCategorycoverage(item)}}</span>
                                    </li>
                                    <li>
                                      <p><strong>INCREASE CATEGORY COVERAGE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the additional coverage amount that you have added to the {{item?.category[0]?.name}}. Using this field, you can increase the maximum aggregated coverage amount that the plan will cover for all items listed under the {{item?.category[0]?.name}} category combined during the 12 month term. Additional fees will apply, please see increase fee field below for more details."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <div>
                                        <div class="qntity">
                                          <div class="qnbtncont">
                                            <button (click)="incrementCatgoryCovrage(item, 'dec')">
                                              <img src="assets/images/minus.png" alt="" width="28" />
                                            </button>
                                            <input type="text" appNumbersOnly [value]="item?.defaultcategoryCoverage"
                                              readonly>
                                            <!-- (keyup)="onTypeCoverageValue(item, $event)" -->
                                            <button (click)="incrementCatgoryCovrage(item, 'inc')">
                                              <img src="assets/images/plus.png" alt="" width="28" />
                                            </button>
                                          </div>
                                        </div>
                                      </div>
                                    </li>
                                    <li>
                                      <p *ngIf="item?.defaultcategoryCoverage >= 0"><strong>INCREASE FEE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the increase fee when increasing the aggregated coverage amount for the {{item?.category[0]?.name}} category. The fee is a percentage of the total added coverage amount."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <p *ngIf="item?.defaultcategoryCoverage < 0"><strong>DECREASE FEE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the decrease fee when decreasing the aggregated coverage amount for the {{item?.category[0]?.name}} category. The fee is a percentage of the total added coverage amount."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span
                                        *ngIf="item?.defaultcategoryCoverage >= 0">{{item?.category[0]?.category_coverage_increase_fee}}%</span>
                                      <span
                                        *ngIf="item?.defaultcategoryCoverage < 0">{{item?.category[0]?.category_coverage_decrease_fee}}%</span>
                                    </li>
                                    <li>
                                      <p><strong>COST OF INCREASE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total cost of the coverage amount you have added to the {{item?.category[0]?.name}} category."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        ${{((item.defaultcategoryCoverage) * ((item.defaultcategoryCoverage > 0) ? (item?.category[0]?.category_coverage_increase_fee) : (item?.category[0]?.category_coverage_decrease_fee))) / 100}}</span>
                                    </li>
                                    <hr>
                                    <li>
                                      <p><strong>TOTAL ADDED COVERAGE AMOUNT</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total amount of the additional coverage amount that you have added the {{item?.category[0]?.name}} category."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        {{item.defaultcategoryCoverage}}
                                      </span>
                                    </li>
                                    <li>
                                      <p><strong>TOTAL MAXIMUM COVERAGE</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the maximum coverage amount that the plan will cover for all items listed under the {{item?.category[0]?.name}} category during a 12 month term including any additional coverage amount that you have added to the {{item?.category[0]?.name}} category."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>
                                        ${{(item.category[0].name.toLowerCase().includes('systems') ? totalsystemCategorycoverage(item) : item.category[0].name.toLowerCase().includes('optional') ? totaloptionalCategorycoverage(item) : totalappliacesCategorycoverage(item)) + item.defaultcategoryCoverage}}
                                      </span>
                                    </li>
                                    <li>
                                      <p><strong>Total Added Cost</strong>
                                        <span class="tooltip-container" mat-raised-button
                                          matTooltip="This field indicates the total added cost for the aggregated maximum coverage amount that you have added to the {{item?.category[0]?.name}} category."
                                          aria-label="Button that displays a tooltip when focused or hovered over">
                                          <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                        </span></p>
                                      <span>${{((item.defaultcategoryCoverage) * ((item.defaultcategoryCoverage > 0) ? (item?.category[0]?.category_coverage_increase_fee) : (item?.category[0]?.category_coverage_decrease_fee))) / 100}}</span>
                                    </li>
                                  </ul>
                                </div>
                              </mat-expansion-panel>
                            </ng-container>
                          </mat-accordion>
                        </div>
                      </mat-expansion-panel>
                    </mat-accordion>
                    <div class="accorddata p-3">
                      <ul>
                        <li>
                          <p><strong>TOTAL ADDED CATEGORY COVERAGE AMOUNT</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field indicates the total aggregated maximum coverage amount that you have added to any of the covered categories combined."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>${{planDetail?.totalAddedCoverageAmount}}</span>
                        </li>

                        <li>
                          <p><strong>Total Cost</strong>
                            <span class="tooltip-container" mat-raised-button
                              matTooltip="This field only indicates the total added cost for all of the additional aggregated maximum coverage that you have added to the plan across all covered categories combined. To see the total cost of the overall plan please refer to the gray box at the bottom of the screen."
                              aria-label="Button that displays a tooltip when focused or hovered over">
                              <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                            </span></p>
                          <span>${{planDetail?.totalCategorycoverage}}</span>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="elitetable">
                <div class="totalplancost">
                  <div class="stepacrdn hassubaccrdin">
                    <mat-accordion>
                      <mat-expansion-panel (opened)="plansummary.plan6thpanelState = true"
                        (closed)="plansummary.plan6thpanelState = false">
                        <mat-expansion-panel-header style="border-bottom: 1px solid #37423f;">
                          <mat-panel-title>
                            <h6>SELECTED SERVICE FEE
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This section indicates the service fee amount that you will need to pay when filing a claim. You can edit the service fee amount by clicking to view more. Additional fees will apply."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span>
                            </h6>
                          </mat-panel-title>
                          <mat-panel-description>
                            <div class="text-right w-100">
                              <!-- <a><u>Edit</u></a> &nbsp;&nbsp; -->
                              <a><u>{{plansummary.plan6thpanelState ? 'Close' : 'View more'}}</u></a>
                            </div>
                          </mat-panel-description>
                          <hr>
                        </mat-expansion-panel-header>
                        <div class="stepacrdn">
                          <div class="accorddata" *ngIf="plansummary.plan6thpanelState">
                            <ul>
                              <li>
                                <p><strong>SERVICE FEE</strong>
                                  <span class="tooltip-container" mat-raised-button
                                    matTooltip="This filed indicates the service fee amount that you will need to pay when filing a claim. You can edit the service fee amount using this field. Additional fees will apply."
                                    aria-label="Button that displays a tooltip when focused or hovered over">
                                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                  </span></p>
                                <select style="width: 19%;height: 22%;font-size: 9px;" [formControl]="serviceFee">
                                  <option [value]="planDetail?.service_fee?.price_0"
                                    [selected]="planDetail?.service_fee.price_0 === serviceFee?.value">$0 SERVICE FEE
                                  </option>
                                  <option [value]="planDetail?.service_fee?.price_70"
                                    [selected]="planDetail?.service_fee.price_70 === serviceFee?.value">$70 SERVICE
                                    FEE
                                  </option>
                                  <option [value]="planDetail?.service_fee?.price_100"
                                    [selected]="planDetail?.service_fee.price_100 === serviceFee?.value">$100 SERVICE
                                    FEE</option>
                                  <option [value]="planDetail?.service_fee?.price_130"
                                    [selected]="planDetail?.service_fee.price_130 === serviceFee?.value">$130 SERVICE
                                    FEE</option>
                                </select>
                              </li>
                              <li>
                                <p><strong>Total Cost</strong>
                                  <span class="tooltip-container" mat-raised-button
                                    matTooltip="This field only indicates any added cost or credit that was added to the plan with the service fee option you have selected."
                                    aria-label="Button that displays a tooltip when focused or hovered over">
                                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                  </span></p>
                                <span>${{serviceFee?.value}}</span>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </mat-expansion-panel>
                      <div class="accorddata" *ngIf="!plansummary.plan6thpanelState">
                        <ul>
                          <li>
                            <p><strong>SERVICE FEE</strong>
                              <span class="tooltip-container" mat-raised-button matTooltip="Info about the action"
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span style="width: inherit;">
                              {{planDetail?.service_fee.price_0 === serviceFee?.value ? '$0 SERVICE FEE' 
                                : planDetail?.service_fee.price_70 === serviceFee?.value ? '$70 SERVICE FEE' :
                                planDetail?.service_fee.price_100 === serviceFee?.value ? '$100 SERVICE FEE' :
                                planDetail?.service_fee.price_130 === serviceFee?.value ? '$130 SERVICE FEE' : ''}}
                            </span>
                          </li>
                        </ul>
                      </div>
                    </mat-accordion>
                  </div>
                </div>
              </div>
              <div class="elitetable">
                <div class="totalplancost">
                  <div class="stepacrdn hassubaccrdin">
                    <mat-accordion>
                      <mat-expansion-panel (opened)="plansummary.plan7thpanelState = true"
                        (closed)="plansummary.plan7thpanelState = false">
                        <mat-expansion-panel-header style="border-bottom: 1px solid #333;">
                          <mat-panel-title>
                            <h6>PLAN SUMMARY
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This section indicates the effective date and overall cost of the plan you have selected."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span>
                            </h6>
                          </mat-panel-title>
                          <mat-panel-description>
                            <div class="text-right w-100">
                              <!-- <a><u>Edit</u></a> &nbsp;&nbsp; -->
                              <a><u>{{plansummary.plan7thpanelState ? 'Close' : 'View more'}}</u></a>
                            </div>
                          </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="stepacrdn">
                          <div class="accorddata" *ngIf="plansummary.plan7thpanelState">
                            <ul>
                              <li>
                                <p><strong>EFFECTIVE TERM</strong>
                                  <span class="tooltip-container" mat-raised-button
                                    matTooltip="This field indicate the effective date of the plan which clarify when the coverage became effective and when the coverage will expire. No claims can be filed prior to the effective date."
                                    aria-label="Button that displays a tooltip when focused or hovered over">
                                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                  </span></p>
                                <span style="width: inherit;">
                                  {{currenDate+' '+ '-' +' '+ effectivedateendDate}}
                                </span>
                              </li>
                              <li>
                                <p><strong>COST OF THE PLAN</strong>
                                  <span class="tooltip-container" mat-raised-button
                                    matTooltip="This field indicates the overall cost of the plan you have selected including all of the additional coverage you have added."
                                    aria-label="Button that displays a tooltip when focused or hovered over">
                                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                  </span></p>
                                <span>
                                  ${{(((transformtonumber(planDetail?.totalOptionalItemsCost + planDetail?.itemList[0]?.info?.cost_per_plan + planDetail?.totaladdedprice + planDetail?.totalCategorycoverage + planDetail?.totaladdedCostForCoverage)) + (transformtonumber(serviceFee.value) ? (transformtonumber(serviceFee.value)) : 0))| number: '2.2')}}
                                </span>
                              </li>
                              <li *ngIf="planDetail?.state_data?.surcharge">
                                <p><strong>SURCHARGE</strong>
                                  <span class="tooltip-container" mat-raised-button
                                    matTooltip="This field indicates any administrative and processing fees added to the plan."
                                    aria-label="Button that displays a tooltip when focused or hovered over">
                                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                  </span></p>
                                <span>${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                                    ,planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                                    planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                                    planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                                    serviceFee.value).percentsurcharge}}</span>
                              </li>
                              <li *ngIf="planDetail?.state_data?.salex_tax">
                                <p><strong>SALES TAX</strong>
                                  <span class="tooltip-container" mat-raised-button
                                    matTooltip="This field indicates any sale tax fees added to the plan."
                                    aria-label="Button that displays a tooltip when focused or hovered over">
                                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                  </span></p>
                                <span>${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                                    ,planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                                    planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                                    planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                                    serviceFee.value).percentsalextax}}</span>
                              </li>
                              <li>
                                <p><strong>GRAND TOTAL</strong>
                                  <span class="tooltip-container" mat-raised-button
                                    matTooltip="This field indicates the grand total cost of the plan including any administrative, processing, and sales tax fees."
                                    aria-label="Button that displays a tooltip when focused or hovered over">
                                    <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                                  </span></p>
                                <span>
                                  ${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                                    ,planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                                    planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                                    planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                                    serviceFee.value).totalvalue | number: '2.2'}}
                                </span>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </mat-expansion-panel>
                      <div class="accorddata" *ngIf="!plansummary.plan7thpanelState">
                        <ul>
                          <li>
                            <p><strong>EFFECTIVE TERM</strong>
                              <span class="tooltip-container" mat-raised-button
                                matTooltip="This field indicate the effective date of the plan which clarify when the coverage became effective and when the coverage will expire. No claims can be filed prior to the effective date."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span style="width: inherit;">
                              {{currenDate+' '+ '-' +' '+ effectivedateendDate}}
                            </span>
                          </li>
                          <li>
                            <p><strong>GRAND TOTAL</strong> <span mat-raised-button
                                matTooltip="This field indicates the grand total cost of the plan including any administrative, processing, and sales tax fees."
                                aria-label="Button that displays a tooltip when focused or hovered over">
                                <img src="assets/images/i.svg" alt="" width="10" style="width:15px">
                              </span></p>
                            <span>
                              ${{grandTotal(planDetail?.state_data?.additional_cost ,planDetail?.state_data?.surcharge
                                  , planDetail?.state_data?.salex_tax, planDetail?.totalOptionalItemsCost,
                                  planDetail?.itemList[0]?.info?.cost_per_plan, planDetail?.totaladdedprice,
                                  planDetail?.totalCategorycoverage, planDetail?.totaladdedCostForCoverage,
                                  serviceFee.value).totalvalue | number: '2.2'}}
                              <!-- | number: '2.2' -->
                            </span>
                          </li>
                        </ul>
                      </div>
                    </mat-accordion>
                  </div>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="total_amount">
            <div>
              <h6>Total amount</h6>
            </div>
            <div>
              <h6>${{2.00}}</h6>
            </div>
          </div>
          <div class="row mr-auto" style="padding-left: 20px;">
            <div class="col-sm-12 vrifycontent">
              <h4 class=" mr-auto pt-4 mb-2">Please add your payment details below.</h4>
              <p class="  mr-auto ">
                <small>
                  Select your payment method from the following options
                </small>
              </p>
            </div>
            <div class="col-sm-12">
              <div class="matsectionradio">
                <div class="selected__payment__option" *ngIf="paymentType.value">
                  <p *ngIf="!paymentType.value || paymentType.value === '1'">Credit/Debit Card</p>
                  <p *ngIf="!paymentType.value || paymentType.value === '3'">Paypal</p>
                  <p *ngIf="!paymentType.value || paymentType.value === '4'">Proforma Invoice</p>
                  <button class="linedbutton greenclr" (click)="paymentType.reset()"><span>Change payment
                      option</span></button>
                </div>

                <mat-radio-group aria-label="Select an option" [formControl]='paymentType' *ngIf="!paymentType.value">
                  <mat-radio-button value="1">Credit/Debit Card
                  </mat-radio-button>
                  <!-- <mat-radio-button *ngIf="paymentType.value && paymentType.value === '2'" value="2">Checking Account</mat-radio-button> -->
                  <mat-radio-button value="3">Paypal
                  </mat-radio-button>
                  <mat-radio-button value="4">Proforma Invoice
                  </mat-radio-button>
                </mat-radio-group>
              </div>
            </div>

            <ng-container *ngIf="paymentType.value === '1'">
              <div class="cardacrdian">
                <h4>BILLING INFORMATION</h4>
                <ng-container>
                  <div class="col-sm-12 mb-4 custinpt p-0">
                    <input type="text" placeholder="Name on card">
                  </div>
                  <label for="card-number">Card Number</label>
                  <div class="col-sm-12 mb-4 cardcustinpt" id="card-number"></div>
                  <div class="row">
                    <div class="col-sm-6">
                      <label for="card-number">Expiration Date</label>
                      <div class="mb-4 cardcustinpt" id="expiration-date"></div>
                    </div>
                    <div class="col-sm-6">
                      <label for="card-number">CVV</label>
                      <div class="mb-4 cardcustinpt" id="cvv"></div>
                    </div>
                  </div>
                </ng-container>
                <!-- <button class="line-btn" (click)="back('stepsevenTeen', 'stepfiveTeen')">
                    Change Payment Information
                  </button> -->
              </div>
            </ng-container>

            <ng-container *ngIf="paymentType.value === '2'">
              <form [formGroup]="accountDetail" class="w-100">
                <div class="col-sm-12">
                  <div class="cardhead">
                    <h4>Checking Account </h4>
                  </div>
                </div>

                <div class="col-sm-12 mb-4 custinpt">
                  <input type="text" placeholder="Account name" formControlName="account_name">
                  <mat-error
                    *ngIf="accountDetail?.controls?.account_name.touched && accountDetail?.controls?.account_name.hasError('required')">
                    This field is required.
                  </mat-error>
                </div>

                <div class="col-sm-12 mb-4 custinpt">
                  <input type="text" mask="0*" placeholder="Routing Number" formControlName="routing_number">
                  <mat-error
                    *ngIf="accountDetail?.controls?.routing_number.touched && accountDetail?.controls?.routing_number.hasError('required')">
                    This field is required.
                  </mat-error>
                </div>

                <div class="col-sm-12 mb-4 custinpt">
                  <input type="text" mask="0*" placeholder="Account Number" formControlName="account_number"
                    (input)="matchPassword(accountDetail?.controls?.account_number, accountDetail?.controls?.verify_number)">
                  <mat-error
                    *ngIf="accountDetail?.controls?.account_number.touched && accountDetail?.controls?.account_number.hasError('required')">
                    This field is required.
                  </mat-error>
                </div>

                <div class="col-sm-12 mb-4 custinpt">
                  <input type="text" mask="0*" placeholder="Verify Account Number" formControlName="verify_number"
                    (input)="matchPassword(accountDetail?.controls?.account_number, accountDetail?.controls?.verify_number)">
                  <mat-error
                    *ngIf="accountDetail?.controls?.verify_number.touched && accountDetail?.controls?.verify_number.hasError('required')">
                    This field is required.
                  </mat-error>
                  <mat-error
                    *ngIf="accountDetail.controls.verify_number.dirty && accountDetail.controls.verify_number.hasError('noMatch')">
                    Account Number is not matched.
                  </mat-error>
                </div>
              </form>

              <div class="col-sm-12 mb-4">
                <button class="linedbutton" (click)="saveAccountdetail()"><span>SAVE</span></button>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
      <!-- Payment static section for paypal -->
      <div class="col-sm-12 mb-4 custinpt mt-5" style="text-align: center;">
        <form id="new-card-form" style="display: flex">
          <button id="submit" class="paypl w-100" style="width: 44% !important;padding: 11px 23px;" *ngIf="!isPaypal">
            PLACE MY ORDER
          </button>
          <div class="spinner paypl w-100 " style="width: 44% !important;padding: 11px 23px;" *ngIf="isPaypal">
            <div class="rect1"></div>
            <div class="rect2"></div>
            <div class="rect3"></div>
            <div class="rect4"></div>
            <div class="rect5"></div>
          </div>
          <button class="linedbutton greenclr" style="width: 44%;margin-left: 17px;height: 41px;"
            (click)="backfrompaymentdetail()">
            <!-- (click)="back('stepfourteen', 'stepfiveTeen')" -->
            <span>Back</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- Final Thank you page -->
<div id="nav-tabContent" class="checkoutpage stepfour" *ngIf="stepProcess.stepsixTeen">
  <div class="rightcheckout w-90" style="width: auto;">
    <div class="row w-70 m-auto ">
      <div class="col-sm-12 vrifycontent ">
        <h4 class="text-center">THANK YOU FOR YOUR ORDER!</h4>
        <h5>Service Agreement Number </h5>
        <h5>Effective Term </h5>
        <p class=" text-left m-auto p-0" style="width: 100%;">
          <small>
            Thank you for becoming an Elite Home Warranty club member.
            We promise to deliver the ultimate service that exceeds your
            expectations. <br> <br>
            We sent you an email notification about setting up your online
            account access.
          </small>
        </p>
      </div>
      <div class="col-sm-12 mb-4 custinpt mt-5">
        <button class="linedbutton w-100">
          BACK TO HOMEPAGE
        </button>
      </div>

    </div>

  </div>
</div>
